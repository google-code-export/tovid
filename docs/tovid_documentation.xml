<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
"http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
    <!ENTITY suite_version "0.22">
    <!ENTITY tovidgui '<command><link linkend="gui">tovidgui.py</link></command>' >
    <!ENTITY tovid '<command><link linkend="tovid">tovid</link></command>' >
    <!ENTITY makexml '<command><link linkend="makexml">makexml</link></command>' >
    <!ENTITY makemenu '<command><link linkend="makemenu">makemenu</link></command>' >
    <!ENTITY idvid '<command><link linkend="idvid">idvid</link></command>' >
    <!ENTITY postproc '<command><link linkend="postproc">postproc</link></command>' >
    <!ENTITY makedvd '<command><link linkend="makedvd">makedvd</link></command>' >
    <!ENTITY dvrequant '<command><link linkend="dvrequant">dvrequant</link></command>' >
    <!ENTITY forum_url 'http://www.createphpbb.com/phpbb/tovid.html' >
    <!ENTITY lastgenerated '<emphasis>This document was generated <?dbtimestamp format="A d B Y"?> from its <ulink url="tovid_documentation.xml">DocBook XML source</ulink></emphasis>.' >
]>

<book lang="en" id="toc">
<bookinfo>
    <title>tovid documentation</title>

    <abstract>
    <para>This is the official documentation (and website) for
    <application>tovid</application>, an open-source suite of
    tools for creating video discs in VCD, SVCD, or DVD format.
    </para>
    </abstract>

    <author>
        <firstname>Eric</firstname>
        <surname>Pierce</surname>
    </author>
</bookinfo>



<!--
======================================================

Welcome

======================================================
-->


<chapter id="index">
<title>tovid homepage</title>

<informalfigure id="biglogo">
    <mediaobject>
        <imageobject><imagedata fileref="images/tovid_logo.png"/></imageobject>
        <textobject><phrase>tovid</phrase></textobject>
    </mediaobject>
</informalfigure>

<sect1>
<title>What is tovid?</title>

<para><application>tovid</application> is a collection of
video disc authoring tools; it can help you create your own
DVDs, VCDs, and SVCDs for playback on your home DVD player.
It has a <link linkend="cli">command-line interface</link>
as well as a <link linkend="gui">graphical frontend</link>.
tovid is <ulink url="http://en.wikipedia.org/wiki/Free_software">free software</ulink>.
</para>

<para>You may find tovid useful if:</para>

<itemizedlist>
    <listitem><para>you have a digital camcorder, and want to share home
    movies with family and friends</para></listitem>
    <listitem><para>you are a 3D artist or animator, and want to put
    your portfolio on DVD for easy distribution</para></listitem>
    <listitem><para>your video files are eating up too much hard drive
    space, and you want to back them up onto a portable medium</para></listitem>
</itemizedlist>
    
<para>Interested? See
    <link linkend="getting_started" endterm="getting_started.title"></link>
    for download and installation instructions.</para>
</sect1>

<sect1>
<title>News</title>

<para>(Newest on top)</para>

<itemizedlist>
    <listitem><para>2005-10-28: The tovid website has been revamped slightly, with
            some fancier
            <ulink url="http://www.wikipedia.org/Cascading_Style_Sheets">CSS</ulink>.
            The tovid Python reimplementation progresses steadily; check out the
            new <ulink url="download/test.tdl.txt">tovid design language</ulink>.</para>
    </listitem>
    
    <listitem><para>2005-09-21: <ulink url="http://linuxformat.co.uk/">Linux Format
    magazine</ulink> gives tovid a positive review (issue 72).</para></listitem>
    <listitem><para>2005-09-17: tovid 0.22 is released.
    <ulink url="http://sourceforge.net/projects/tovid">Get it</ulink>
    and <link linkend="getting_started">install it</link>; try out the new
    <option>-quality [1-10]</option> option for controlling quantization, and the (I hope) improved
    <option>-interlaced</option> option.</para>
    </listitem>
    <listitem><para>2005-08-27:
    Version 0.21 of tovid hits the streets.
    <ulink url="http://sourceforge.net/projects/tovid">Get it from sourceforge</ulink>
    and see <link linkend="getting_started" endterm="getting_started.title"></link>
    for instructions. &makedvd; is now functional, and the GUI
    is considerably less buggy.</para>
    </listitem>
    <listitem><para>2005-08-14:
    New and improved, with better-tasting syntax!
    Version 0.20 of tovid has been released. <ulink url="http://sourceforge.net/projects/tovid">Get it from sourceforge</ulink> and see
    <link linkend="getting_started" endterm="getting_started.title"></link>
    for instructions. Lots of minor
    bugfixes and formatting improvements, and the -parallel option just might work!
    Also, <option>-fps</option> makes a reappearance for anyone having framerate problems. See
    the <filename>ChangeLog</filename> file in the tovid install directory for
    details.</para>
    </listitem>
    <listitem><para>2005-08-09: <ulink url="http://www.linux.com/">Linux.com</ulink>
    runs an <ulink url="http://www.linux.com/article.pl?sid=05/08/01/1734201">article on tovid</ulink>. tovid gets a nice boost in downloads for several days!</para>
    </listitem>
</itemizedlist>


</sect1>

<sect1>
<title>Where to start?</title>

<variablelist>
<varlistentry>
    <term>Look</term>
    <listitem>
        <itemizedlist>
            <listitem>
                <para>See <ulink url="images/tovid_screenshot.png">screenshots of tovid</ulink></para>
            </listitem>
        </itemizedlist>
    </listitem>
</varlistentry>

<varlistentry>
    <term>Learn</term>
    <listitem>
        <itemizedlist>
            <listitem><para><link linkend="getting_started">Installing
            tovid</link></para></listitem>
            <listitem><para><link linkend="cli" endterm="cli.title"></link></para>
            </listitem>
            <listitem><para><link linkend="gui" endterm="gui.title"></link></para>
            </listitem>
            <listitem><para><link linkend="howto" endterm="howto.title"></link></para></listitem>
            <listitem><para><link linkend="references"
                endterm="references.title"></link></para></listitem>
        </itemizedlist>
    </listitem>
</varlistentry>

<varlistentry>
    <term>Interact</term>
    <listitem>
        <itemizedlist>
            <listitem>
                <para><ulink
                url="http://sourceforge.net/tracker/?func=add&amp;group_id=113675&amp;atid=665859">Report a bug</ulink></para>
            </listitem>
            <listitem>
                <para><ulink
                url="http://sourceforge.net/tracker/?func=add&amp;group_id=113675&amp;atid=665862">Request a feature</ulink></para>
            </listitem>
            <listitem>
                <para><ulink url="&forum_url;">Participate
                in forum discussion</ulink></para>
            </listitem>
            <listitem>
                <para><ulink
                url="http://lists.sourceforge.net/lists/listinfo/tovid-users">Subscribe
                to the mailing list</ulink></para>
            </listitem>
        </itemizedlist>
    </listitem>
</varlistentry>
</variablelist>

<para>tovid is still in early development, and isn't yet available in most package
repositories, so you will probably not be able to install it using your distribution's
package manager. Download the latest official release of tovid from the
<ulink url="http://sourceforge.net/projects/tovid/">sourceforge project
page</ulink>, or get the latest development version through CVS (see <link
linkend="Installation">Installation</link> for details).</para>

<para>Feel free to stop by the <ulink url="&forum_url;">tovid forum</ulink>, or
the IRC channel <literal>#tovid</literal> on <literal>irc.freenode.net</literal>,
for tech support and friendly chat.</para>

<para>You can <ulink url="tovid_documentation.xml">download this documentation</ulink> in
<ulink url="http://www.docbook.org">DocBook XML</ulink> format.</para>

<para role="lastgen">&lastgenerated;</para>

</sect1>


</chapter>

<!--
======================================================

Getting started

======================================================
-->

<chapter id="getting_started">
<title id="getting_started.title">Getting started</title>

<para>This chapter explains how to get tovid running on your computer.
If you already have tovid running, then you may skip directly to
<link linkend="gui" endterm="gui.title"></link> or
<link linkend="cli" endterm="cli.title"></link>.
</para>

<sect1>
<title>Preliminaries</title>

<sect2>
<title>Requirements</title>

<para>There are no known minimum system requirements for running tovid. If
your machine is capable of running a standard Linux installation, then you
probably have enough CPU power for video processing and playback.</para>

<para>If you're going to work with video files, you probably want to have
plenty of hard drive space to spare; the process of authoring a DVD might
consume 11GB on your disk, and if you are working on several DVD projects at
once, the space requirements multiply quickly. At minimum, you should have
about 20GB that you can devote to authoring DVDs. If you only plan to create
(S)VCDs, you could get by with only 6-8GB.</para>

<para>The tovid suite is developed and tested primarily on Linux. Some users
have also reported successful execution on FreeBSD and Cygwin with only minor
modifications. Parts of the suite may work on other UNIX-like operating
systems, but that possibility is unverified at this point. There are currently
no plans to develop a Windows or Mac OS port, but if you are interested in
taking on the job, please contact the tovid developers!</para>

<para>Several software packages are required in order to use various components
of the tovid suite (see <link linkend="sec:Dependencies">Dependencies</link>).
Nearly all of the components, being written in the <command>bash</command>
scripting language, require <command>bash</command>, as well as standard
UNIX utilities like <command>grep</command>,
<command>sed</command>, <command>cat</command>, and <command>awk</command>.
If you are running Linux, all of these should already be available.</para>

</sect2>

<sect2 id="sec:Dependencies">
<title>Dependencies</title>

<para>tovid has amassed some dependency hell during its development.
Here is the complete list of dependencies, and to what extent they are required:</para>

<variablelist>
<varlistentry>
    <term><application><ulink
url="http://www.python.org/">Python</ulink></application></term>
    <listitem><para>An interpreter that allows you to run programs written in
    Python. Python is becoming increasingly common, so it's good to have a Python
    interpreter installed. If you want to use the graphical interface for tovid,
    you need this.</para></listitem>
</varlistentry>
<varlistentry>
    <term><application><ulink url="http://www.wxpython.org/">wxPython</ulink></application></term>
    <listitem><para>Provides support for <acronym>GUI</acronym>s written in Python using the
    wxWidgets <acronym>API</acronym>. You also need this to run the GUI.</para></listitem>
</varlistentry>
<varlistentry>
    <term><application><ulink url="http://www.mplayerhq.hu/">mplayer</ulink></application></term>
    <listitem><para>Probably the most robust and mature video player for Linux.
    Almost all of the tovid components depend heavily on mplayer for video
    playback and conversion, so this is a must-install. You'll want
    mplayer anyway, if you plan to be working with video.</para></listitem>
</varlistentry>
<varlistentry>
    <term><application><ulink url="http://mjpeg.sourceforge.net/">mjpegtools</ulink></application></term>
    <listitem><para>Command-line tools for encoding and working with video,
    particularly MPEG. This is required by most of tovid's components, and you
    will need it in order to do anything useful with tovid.</para></listitem>
</varlistentry>
<varlistentry>
    <term><application><ulink url="http://ffmpeg.sourceforge.net/">ffmpeg</ulink></application></term>
    <listitem><para>Tools and libraries for recording, converting, and streaming
    audio and video. Used by several components, and required if you want to
    create DVDs in <glossterm>NTSC</glossterm> format.</para></listitem>
</varlistentry>
<varlistentry>
    <term><application><ulink url="http://www.imagemagick.org">ImageMagick</ulink></application></term>
    <listitem><para>A powerful set of command-line tools for formatting, resizing,
    converting and drawing on image files. This is used by the &makemenu;, the
    menu-generation component of tovid. If you want to create video discs with
    menus, you need this. Many Linux distributions install this by
    default.</para></listitem>
</varlistentry>
<varlistentry>
    <term><application><ulink url="http://sox.sourceforge.net/">SoX</ulink></application></term>
    <listitem><para>The ImageMagick of audio processing, in a way. Command-line
    tools for converting, trimming, and filtering audio files. This is used by
    &makemenu;.</para></listitem>
</varlistentry>
<varlistentry>
    <term><application><ulink
    url="http://dvdauthor.sourceforge.net/">dvdauthor</ulink></application>
    0.6.0 or newer</term>
    <listitem><para>Tools for creating DVD filesystems. If you want to make
    DVDs with tovid, you need this.</para></listitem>
</varlistentry>
<varlistentry>
    <term><application><ulink url="http://www.vcdimager.org/">vcdimager</ulink></application></term>
    <listitem><para>Tools for creating (S)VCD filesystems. If you want to make
    VCDs or SVCDs, you need this.</para></listitem>
</varlistentry>
<varlistentry>
    <term><application><ulink url="http://zebra.fh-weingarten-de/~transcode/">transcode</ulink></application></term>
    <listitem><para>Video stream processing and conversion tools. This is used
    by postproc (the tovid postprocessing component) and &dvrequant; (the tovid
    DVD shrinking tool). Useful if you want to be able to fine-tune the output
    size of your videos, to fit a desired amount of content on a recordable
    DVD.</para></listitem>
</varlistentry>
<varlistentry>
    <term><application><ulink url="http://developers.videolan.org/libdvdcss/">libdvdcss</ulink></application></term>
    <listitem><para>DVD decryption routines, used for playing encrypted DVDs
    on your computer. Needed by &dvrequant; for copying encrypted DVDs. You
    want this.</para></listitem>
</varlistentry>
<varlistentry>
    <term><application><ulink url="http://untrepid.com/acidrip/lsdvd.html">lsdvd</ulink></application></term>
    <listitem><para>Handy tool for viewing the attributes of DVD discs. Also
    needed by &dvrequant;, for copying discs.</para>
</listitem>
</varlistentry>
</variablelist>

<para>Most of these tools are widely available in major package repositories;
chances are good that you can get them all through your distribution's preferred
package manager.</para>

</sect2>

</sect1>

<sect1 id="Installation">
<title>Installation</title>

<sect2>
<title>Packages</title>

<itemizedlist>
    
    <listitem><para><ulink
        url="http://bugs.gentoo.org/show_bug.cgi?id=84761">tovid Gentoo ebuild</ulink>. See
        <ulink url="http://gentoo-wiki.com/HOWTO_Installing_3rd_Party_Ebuilds">Installing
        3rd Party Ebuilds</ulink> for help installing.</para>
    </listitem>

    <listitem><para><ulink
        url="http://julien.valroff.free.fr/">Debian .deb</ulink>.</para>
    </listitem>

    <listitem><para><ulink
    url="http://rpm.pbone.net/index.php3/stat/4/idpl/2108685/com/tovid-0.19-0.oc2pus.1.noarch.rpm.html">SuSE RPMs</ulink></para>
    </listitem>

</itemizedlist>

</sect2>

<sect2>
<title>Source tarball</title>

<itemizedlist>
    <listitem><para><ulink
    url="http://prdownloads.sourceforge.net/tovid/tovid-&suite_version;.tar.gz?download">tovid_&suite_version;.tar.gz</ulink>
    contains all the command-line scripts.</para></listitem>
    <listitem><para><ulink
    url="http://prdownloads.sourceforge.net/tovid/tovid-gui-&suite_version;.tar.gz?download">tovid-gui-&suite_version;.tar.gz</ulink>
    contains the GUI and program icons. The command-line scripts must be
    installed before using the GUI.</para></listitem>
</itemizedlist>

<para>Download the command-line package and save it on your computer.
We'll assume it's saved in <filename>~/Downloads/</filename>.</para>

<para>Next, open a terminal window (such as <application>XTerm</application>,
<application>RXVT</application>, or <application>Konsole</application>) and
extract the tarball by typing the following commands:</para>

<screen>
<prompt>$</prompt> <userinput>cd ~/Downloads</userinput>
<prompt>$</prompt> <userinput>tar -xzvf tovid-&suite_version;.tar.gz</userinput>
</screen>

<para>The installation files will go into a subdirectory
<filename>tovid-&suite_version;</filename> within the current directory.
Next, do the following:</para>

<screen>
<prompt>$</prompt> <userinput>cd ~/Downloads/tovid-&suite_version;</userinput>
<prompt>$</prompt> <userinput>./configure</userinput>
<prompt>$</prompt> <userinput>su -c "make install"</userinput>
</screen>

<para>If you decide you don't want tovid installed anymore, run
<command>make uninstall</command> from the original installation
directory
(<filename>~/Downloads/tovid-&suite_version;</filename>).</para>

<para>Repeat the above procedure for the
<filename>tovid-gui-&suite_version;.tar.gz</filename> package if you would like
to install the graphical interface.</para>

</sect2>

<sect2>
<title>CVS builds</title>

<para>You can get a copy of the latest development version of tovid
through CVS. To get this version, you need to have <ulink
url="http://www.cvshome.org/">CVS</ulink> installed.</para>

<para>Using CVS is a little different; instead of just downloading tovid, you'll
be "checking out" a copy of it. Using the same example directory as
above:</para>

<screen>
<prompt>$</prompt> <userinput>cd ~/Downloads</userinput>
<prompt>$</prompt> <userinput>cvs -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/tovid login</userinput>
<computeroutput>Logging in to :pserver:anonymous@cvs.sourceforge.net:2401/cvsroot/tovid</computeroutput>
<prompt>CVS password:</prompt> <userinput>(your email address)</userinput>
<prompt>$</prompt> <userinput>cvs -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/tovid co -P tovid</userinput>
<prompt>$</prompt> <userinput>cvs -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/tovid co -P gui</userinput>
<prompt>$</prompt> <userinput>cd tovid</userinput>
<prompt>$</prompt> <userinput>aclocal</userinput>
<prompt>$</prompt> <userinput>autoconf</userinput>
<prompt>$</prompt> <userinput>automake</userinput>
</screen>

<para>If you're installing the GUI, repeat these steps in its directory (<command>aclocal</command>, <command>autoconf</command>, and <command>automake</command>). Finally, do <command>./configure</command> 
and <command>su -c "make install"</command> as shown above in each repsective directory to install 
tovid (and the GUI) system-wide.</para>

<note><para>Also available through CVS are three additional modules:
<literal>docs</literal> contains the
<ulink url="http://www.docbook.org/">DocBook</ulink> sources (complete
with illustrations) of the documentation you are reading;
<literal>test-tools</literal> is a suite of scripts designed for
testing the encoding options of mplayer and mpeg2enc (along with
some other small freebies); <literal>pytovid</literal> will
eventually become a complete re-implementation of tovid in the
<glossterm>Python</glossterm> language.</para>

<para>If you are interested in these other branches of development,
please grab the CVS modules and get in touch with the developers on
the <literal>#tovid</literal> channel of
<literal>irc.freenode.net</literal>.</para>
</note>

<para role="lastgen">&lastgenerated;</para>

</sect2>

</sect1>

</chapter>


<!--
======================================================

tovidgui.py

======================================================
-->

<chapter id="gui">
<title id="gui.title">Using the GUI</title>

<para>The tovid GUI (<command>tovidgui.py</command>) is the user-friendly face
of tovid. From the GUI, you can layout, encode, and burn a
<glossterm linkend="VCD">VCD</glossterm>,
<glossterm linkend="SVCD">SVCD</glossterm>,
or <glossterm>DVD</glossterm> with menus and videos.</para>

<para>The GUI is primarily a front-end for the command-line interface
components; aside from minor interactive features, the GUI cannot do anything
the command-line tools cannot do. If you prefer to use a command-line interface,
you may wish to skip to <link linkend="cli" endterm="cli.title"></link>.
</para>


<sect1>
<title>Features and capabilities</title>

<itemizedlist>
    <listitem><para>Simple three-step process to video disc authoring</para></listitem>
    <listitem><para>Discs may have a single menu linking to several videos, or a
    two-level hierarchy of menus (top-level menu linking to several other menus,
    each linking to several videos)</para></listitem>
    <listitem><para>Disc layout tree allows easy editing of the disc navigation
    structure</para></listitem>
    <listitem><para>Menu background, audio clip, text colors, font, and
    alignment are configurable (see the &makemenu; documentation
    for a tip on how to maximize the number of available fonts)</para></listitem>
    <listitem><para>Video resolution, aspect, bitrate, and other options are
    configurable</para></listitem>
</itemizedlist>

</sect1>

<sect1>
<title>Usage</title>

<para>Assuming you have installed the tovid suite to your path (see the
installation instructions above), all you need to do is
execute <command>tovidgui.py</command>. The tovid GUI will not work properly unless
you have installed the suite to your path.</para>

<para>The tovid GUI has no command-line options at this time.</para>

</sect1>

<sect1>
<title>How it works</title>

<para>The tovid GUI, as currently designed, operates on a simple notion: You
provide video files, and optionally provide a background image or audio clip for
each menu. The GUI performs all the necessary conversion, and creates an (S)VCD
or DVD:</para>

<figure>
<title>GUI data flow diagram</title>
<graphic fileref="images/tovid_gui_organization.jpg"></graphic>
</figure>

<para>If you are interested in knowing more behind-the-scenes details, see 
<link linkend="cli" endterm="cli.title"></link>.</para>

</sect1>

<sect1 lang="en">
<title>Graphical tour</title>

<para>Following is a brief tour of the tovid GUI and how to use it. At this time,
the GUI is designed with a relatively simple task in mind:
Create a video disc, using a bunch of videos that you provide. The GUI handles
all the necessary conversion (using &tovid;), menu creation
(using &makemenu;), and disc authoring (using
&makexml;).</para>

<note>
<para>The documentation and screenshots that follow have not been updated
since the release of tovid version 0.18a in December 2004. Sorry for
the obsolescence!</para>

<para>These screenshots were taken using <command>tovidgui.py</command>
version 0.18a, running under
<application><ulink url="http://www.xfce.org/">XFCE 4.2</ulink></application>
with the XFCE-light theme and default window manager style.</para>
</note>

<sect2>
<title>Startup screen</title>
<para>When you first start the tovid GUI, you will see a screen something like
this:</para>

<figure>
<title>Choosing a disc format</title>
<screenshot><graphic fileref="images/gui_disc_format.png"></graphic></screenshot>
</figure>

<para>The <guilabel>Disc layout</guilabel> tree on the left-hand side represents
the layout of your disc. It will grow as you begin to add menus and videos.
In the <guilabel>Disc options</guilabel> panel to the right, you can choose what
sort of disc you want to make. If you have a DVD-recordable drive, you can
create DVDs; if you have a CD-recordable drive, you can create VCDs and SVCDs.</para>

<figure>
<title>Disc layout tree and temporary directory</title>
<screenshot><graphic fileref="images/gui_disc_working_dir.png"></graphic></screenshot>
</figure>

<para>Also in the <guilabel>Disc options</guilabel> panel, you can choose a working
directory to use for temporary files needed during encoding. This directory
should have enough space to encode all the videos, so be sure to pick a directory
with several gigabytes available, especially if you are creating a large DVD disc.</para>

<para>In the <guilabel>Disc layout</guilabel> tree, you can edit the title of an item
by clicking on it. Click on the title next to the disc icon if you want to
change the title of the disc.</para>

<para>When you are satisfied with the options you have chosen here, select
the <guibutton>Add menu</guibutton> button to begin adding content to the disc.
A menu is necessary in order to navigate the disc, so you must add a menu
before going any further. You can always come back to this screen by selecting
the disc icon in the tree.</para>
</sect2>


<sect2>
<title>Adding a menu</title>

<para>Proceed with disc creation by selecting the <guibutton>Add menu</guibutton>
button. When you add a menu, you will see a new screen something like this:</para>

<figure>
<title>Setting up a menu</title>
<screenshot><graphic fileref="images/gui_menu_options.png"></graphic></screenshot>
</figure>

<para>When a menu is selected in the <guilabel>Disc layout</guilabel> tree, the
encoding options relevant to that menu are shown in the <guilabel>Menu
options</guilabel>
panel to the right. Once again, you can click on the title of the menu in the tree
(next to the menu icon) to edit the menu's title.</para>

<para>In the <guilabel>Menu options</guilabel> panel, you can choose an image to
be shown in the background of the menu, and an audio clip to be played while
the menu is displayed. If you do not choose a background image or audio clip,
a default background will be used, and no sound will be played while the menu
is shown. Here, you can also configure the font, alignment, and color
of items listed in the menu.</para>

<para>Now that you have a menu, you can add some videos to the disc by selecting
the <guibutton>Add video(s)</guibutton> button.</para>

<note>
<para>The <guibutton>Add slide(s)</guibutton> button will be used in the future
for adding slideshows to a disc. As of version 0.22, this feature is still
disabled.</para>
</note>

</sect2>

<sect2>
<title>Adding videos</title>

<para>When you select <guibutton>Add video(s)</guibutton>, a file chooser will be displayed
that you can use to select one or more videos to add under the selected menu.
After adding some videos, the screen looks something like this:</para>

<figure>
<title>Adding videos</title>
<screenshot><graphic fileref="images/gui_videos_added.png"></graphic></screenshot>
</figure>

<para>Videos are listed in the tree with a film-strip icon next to them.
Once again, you can click their titles to edit them; initially, the title
of each video is the same as its filename. You'll notice the
<guilabel>Menu options</guilabel> panel now displays a list of titles shown
on that menu; the selected font, alignment, and color will apply to these
titles when they are displayed on the final menu.</para>
</sect2>


<sect2>
<title>Multiple menus</title>

<para>If you have a lot of videos, you may want to divide your disc up into
several sub-menus. To do this, just select <guilabel>Add menu</guilabel> again.
If you do, the layout tree will change to look like the following:</para>

<figure>
<title>Adding another menu</title>
<screenshot><graphic fileref="images/gui_second_menu_added.png"></graphic></screenshot>
</figure>

<para>Notice that a "Main menu" has appeared above the two untitled menus. This
main menu is used to navigate to the other menus. You can put as many videos
as you like under each menu. You can change the font, color, and background
of the main menu just like you can for other menus; the difference is that
the main menu links to other menus, rather than videos.</para>

<para>If you want to use the same font, alignment, background, and colors for
all the menus on your disc, choose <guibutton>Use these settings for all
menus</guibutton>.
This button will copy the current settings to all the menus on the disc.</para>

<para>The main menu links to each of the sub-menus below it, and each sub-menu will
automatically include a "Back" link that returns to the main menu. Regardless of
how many menus you add, the first menu that is listed in the
<guilabel>Disc layout</guilabel> tree will be the first one you see when
you play the disc.</para>
</sect2>


<sect2>
<title>Video options</title>

<para>Now that some videos have been added, you can decide how you want to
encode them. When you select a video in the tree, the <guilabel>Video
options</guilabel>
panel is displayed, showing all the configuration options that apply to
that video:</para>

<figure>
<title>Video options</title>
<screenshot><graphic fileref="images/gui_video_enc_opts.png"></graphic></screenshot>
</figure>

<para>The output resolution for each video depends on the disc format you have
chosen; certain resolutions are not available with certain formats. If you
don't like the available video resolutions, you can go back and change the
disc format by clicking on the disc icon in the tree.
You can also choose an aspect ratio to use for the video; widescreen formats
will be letterboxed if necessary, to display correctly on your TV.</para>

<para>If you want to, you can also adjust the video and audio bitrates. The default
values are usually reasonable, so you can leave these alone if you aren't sure
what bitrate to use. Finally, you can enable additional options such as
audio normalization (useful if the audio is too loud or too quiet), low-quality
video (if you want faster encoding at the expense of quality), or video
deinterlacing (if the source video was recorded from interlaced broadcast or VHS).</para>

<para>To use the same settings for all the videos on the disc, select the
<guibutton>Use these settings for all videos</guibutton> button. The currently-selected
resolution, aspect ratio, bitrates and other options will be applied to all
videos in the disc layout tree.</para>

<para>You can use the <guibutton>Move up</guibutton>, <guibutton>Move
down</guibutton>, and
<guibutton>Remove</guibutton> buttons in the layout tree to position elements where you
want them or remove them from the disc.</para>

<para>When you are satisfied with the layout of your disc, select the
<guibutton>Next: Encoding setup</guibutton> button to proceed with encoding and
authoring the disc:</para>

<figure>
<title>A complete disc layout</title>
<screenshot><graphic fileref="images/gui_layout_done.png"></graphic></screenshot>
</figure>

<para>You will probably want to make sure all your menu and video titles are the
way you want them before proceeding, so double-check to be sure there are no
more "Untitled" items in the tree. But don't worry&ndash;you can come back to this
screen if you click the button by accident.</para>
</sect2>


<sect2>
<title>Encoding everything</title>

<para>When you select <guibutton>Next: Encoding setup</guibutton>, you will be taken
to a new panel showing a log window of command output:</para>

<figure>
<title>Getting ready to encode</title>
<screenshot><graphic fileref="images/gui_encoding_setup.png"></graphic></screenshot>
</figure>

<para>In the 0.18a preview
release, the "Output directory" is ignored (but in the official release,
will be the place where the disc image is written). Select <guibutton>Next:
Begin encoding</guibutton> to start everything running. If you have selected
many videos, this step may take several hours. The log output will be
updated regularly to keep you informed about the encoding progress. When
it is done, the next step is to create the disc image by authoring
the final disc structure.</para>
</sect2>


<sect2>
<title>Creating the disc image</title>

<para>In the 0.18a preview release of the tovid GUI, you must do this step by
hand. The GUI will inform you when the XML file is ready to be authored;
if you are making a VCD or SVCD, you need to use vcdxbuild to author the disc,
using a command like <command>vcdxbuild /path/to/output.xml</command>.
If you're using any of the DVD formats, you must use dvdauthor to author it,
using a command like <command>dvdauthor -x /path/to/output.xml</command>. The
GUI will tell you the full path name of the XML file.</para>

<para>The final release of 0.18 will at least have authoring capability, but
it may still be necessary to burn the disc by hand using cdrecord, K3B, etc.</para>
</sect2>

<sect2>
<title>Development screenshots</title>

<para>GUI development is progressing steadily, and the above screenshots may not
exactly resemble what you see in your GUI. This tour will be updated periodically
as the functionality of the GUI grows, but due to the time-consuming nature of
putting together updated screenshots, this tour may not be updated for every new
GUI release.</para>

<para>This section shows several screenshots from the development version of the
tovid GUI (currently version 0.18), with a short description of what is shown
on the screen.</para>

<figure>
<title>Guide system</title>
<!-- <ulink url="gui_devel_guide_panel.png"> -->
<screenshot>
<graphic fileref="images/gui_devel_guide_panel_thumb.png"></graphic>
</screenshot>
</figure>

<para><guilabel>Guide panel</guilabel>. This is a new help system that has been implemented
to aid the user in getting from one step to the next. The guide panel is a long
skinny box of text that describes what the current task in the GUI is, and what
you might want to do next. This panel makes the GUI take up significantly more
screen space, so a new <guimenu>View</guimenu> menu has been added, which
includes the option to hide/show the guide panel.</para>

<para>This approach was chosen because it offers great possibilities for a very
convenient complete help system. In future versions, this panel could be
functionally enhanced, interactive (with hypertext links to
related topics) and searchable. It will more closely resemble the navigation
panel of a standard Windows help dialog, and will consist of formatted text, images,
etc. written in HTML.</para>

<para>The advantage this has over a traditional help system, with its own separate
dialogs, is reduced window maintenance. Whenever I'm browsing help, I'm usually
trying to do something with the program at the same time. This way, I don't have
to manually size the help and main GUI windows, arrange them side-by-side, etc.
It's already right there, and designed for optimal presentation of help and GUI
side-by-side.</para>

<para>Doing this would almost certainly require splitting the GUI up into many dependent
files; the HTML used for such a help system needs to be formatted specifically so
wxWidgets can use it, and would consist of several separate files. These would most
sensibly need to be installed in your <filename>/usr/local/share/doc</filename> or a
similar location, which would mean the tovid installer would need updating, and
almost certainly a user-level configuration file would need to be saved (so the
GUI knows where to find the documentation files).</para>

<para>So, for now, the guide panel is simply a few paragraphs of text, hard-coded into
the GUI code. But it's a good start, and it has many possibilities!</para>
</sect2>

</sect1>


<sect1>
<title>Future plans</title>

<para>A number of additional features are planned for the tovid GUI. Among the
things I have in mind (more or less in order of priority):</para>

<itemizedlist>
    <listitem><para>A built-in help system.</para>
    </listitem>
    <listitem><para>Slide-show capability. This would require a &makexml;
        implementation, if DVD slideshows are to be allowed.</para></listitem>
    <listitem><para>Front-ends to <command>postproc</command>, &idvid;,
        and &dvrequant;.</para>
    </listitem>
    <listitem><para>"Estimated disk space left" meter on the disc layout panel.
        This would be a horizontal bar that fills up as you add videos to the disc;
        the required size for each video would be estimated to give the user an
        idea of when there is no more space. User will be warned if maximum space
        is exceeded.</para>
    </listitem>
    <listitem><para>Previewing items on the disc, including menus, videos, and
        slideshows.</para>
    </listitem>
    <listitem><para>When browsing for images, an image browser that shows
        thumbnails of each image, to make finding desired slides or background
        images easier</para>
    </listitem>
    <listitem><para>Capability to add extra audio/video tracks to a video.
        This would allow producing discs with multiple camera angles, or multiple
        audio tracks including translations, commentary, etc. This would have to
        be implemented in &tovid; itself, also.</para>
    </listitem>
    <listitem><para>Capability to add subtitles (as a subtitle stream) to
        videos. This would also require a &tovid;
        implementation first.</para>
    </listitem>
    <listitem><para>Capability to add chapter breaks to videos, perhaps in
        conjunction with the video previewing capability. This would require
        a &makexml; implementation.</para>
    </listitem>
    <listitem><para>Drag-n-drop for adding/rearranging videos/slides to the
        disc layout tree.</para>
    </listitem>
    <listitem><para>Capability to save/load disc layouts in progress; possibly
        in conjunction with this, a capability to interrupt/resume the disc
        encoding process.</para>
    </listitem>
</itemizedlist>

<para role="lastgen">&lastgenerated;</para>

</sect1>

</chapter>


<!--
======================================================

Using the command-line tools

======================================================
-->

<chapter id="cli">
<title id="cli.title">Using the command-line tools</title>

<para>This chapter gives an overview of how to use the command-line
    tools; see the <link linkend="manpages">manpages</link> for
    more detailed usage notes.</para>

<para>If using the command line does not sound like your cup
    of tea, you may choose the tovid GUI instead. The GUI makes
    the disc authoring process much simpler and more interactive.
    See <link linkend="gui" endterm="gui.title"></link>.
</para>

<sect1>
<title>The scripts</title>

<para><application>tovid</application>'s foundation rests on a collection of
    shell scripts designed for specific tasks relevant to authoring a video
    disc. One script converts video, another makes menus, another generates
    the disc navigation structure, etc. Here's how it all fits together:</para>

<figure>
<title>Organization of the tools</title>
<graphic fileref="images/tovid_cli_organization.jpg"></graphic>
</figure>

<para>The blue gear icons are the primary tovid scripts. Each script has
    certain inputs and outputs; for example, the &tovid; script takes any
    multimedia video file as input, and produces (S)VCD or DVD-compliant
    MPEG video files as output. The output of &tovid; then becomes an input
    to <command>makevcd</command> or &makedvd;, and so on.</para>

<para>tovid follows the UNIX tradition of modularization. Rather than having a
    single large program that does everything, tovid has several smaller programs
    that do specific things:</para>

<itemizedlist>
<listitem><para>
    &tovid; converts arbitrary multimedia video files to (S)VCD, DVD,
    or KVCD-compliant format.
</para></listitem>
<listitem><para>
    &makemenu; create an MPEG menu, for navigating a video disc.
</para></listitem>
<listitem><para>
    &makexml; generates an XML description of video disc
    content, compatible with <command>vcdxbuild</command> or
    <command>dvdauthor</command>.
</para></listitem>
<listitem><para>
    &makedvd; authors and optionally burns a DVD.
</para></listitem>
<listitem><para>
    <command>makevcd</command> authors and optionally burns a VCD or SVCD (not
    yet complete)
</para></listitem>
</itemizedlist>

<sect2>
<title>Five steps</title>

<para>Creating a video disc using the command-line tools boils down to five
steps:</para>

<orderedlist>
<listitem><para>
    <emphasis>Plan ahead</emphasis>. Decide what videos you would like to
    include on the disc, and whether you want to make an (S)VCD or a DVD. If you
    have lots of videos, you may want to have navigational menus to select them
    for playback. Sketch out an outline of what menus you want to have, and what
    videos they will link to.
</para></listitem>
<listitem><para>
    <emphasis>Encode the content</emphasis>. Almost all video sources need to be
    converted to an (S)VCD or DVD-compliant format. The <command><link
    linkend="tovid">tovid</link></command>
    script does this for you; use it to convert all the videos you want to
    include. You can use <command>tovid-batch</command> to convert several
    videos at once.
</para></listitem>
<listitem><para>
    <emphasis>Create menus (optional)</emphasis>. If you want your disc to have
    interactive menus for navigation, use &makemenu;
    to create them. This is where you will specify video titles, as they
    will appear on the menu.
</para></listitem>
<listitem><para>
    <emphasis>Layout the disc</emphasis>. This is where you specify exactly how
    your disc will be organized. Provide the names of all your video and menu
    files, and &makexml; does the rest.
</para></listitem>
<listitem><para>
    <emphasis>Author and burn</emphasis>. When you reach this step, you should
    have several <filename>.mpg</filename> files (menus and videos), along with
    a <filename>.xml</filename> file containing the disc layout. Give the
    <filename>.xml</filename> file to <command>makevcd</command> or
    &makedvd; to author and burn your disc.
</para></listitem>
</orderedlist>

<para>For a step-by-step example of creating a disc, see the
<link linkend="howto" endterm="howto.title"></link>.</para>

</sect2>

<sect2>
<title>Other scripts</title>

<para>There are several additional scripts customized for other tasks:</para>

<itemizedlist>
    <listitem><para>&dvrequant; copies a single track, with
        optional subtitles and multiple audio streams, from an existing
        DVD.</para>
    </listitem>
    <listitem><para>&idvid; identifies video files, telling
        you the duration, resolution, codec, and other useful information.
        Perhaps most important, it can tell you whether a given video file is
        compliant with (S)VCD or DVD.</para>
    </listitem>
    <listitem><para><command>makeslides</command> creates a still-image
        slideshow, in (S)VCD format, from arbitrary images. Slideshows may
        be included on a disc using the <option>-slides</option> option to
        &makexml;.</para>
    </listitem>
    <listitem><para><command>postproc</command> does post-processing on an
        encoded/compliant MPEG video. It can shrink the video stream by reducing
        quality, and it can adjust the audio/video synchronization.</para>
    </listitem>
    <listitem><para><command>tovid-batch</command> processes multiple video
        files using the same output options. Use this if you want to encode
        several videos to the same format.</para>
    </listitem>
    <listitem><para><command>tovid-interactive</command> is an interactive
        command-line tool that prompts you for all the necessary
        &tovid; encoding options. Use this if you are
        unfamiliar with the command line, but do not want to run the GUI for
        whatever reason.</para>
    </listitem>
</itemizedlist>

<para>Each of these is described in more detail in the sections that
follow.</para>

</sect2>

</sect1>


<sect1 id="cli.config">
<title id="cli.config.title">Configuration files</title>

<para>The version-0.18 &tovid; script implements the use of
configuration files. Eventually, all the major tovid scripts
will be able to read configuration files from a global
directory, a user-preference directory, and from a supplied
text file.</para>

<para>Configuration files for the tovid suite are plain ASCII text.
The first line of the file begins with a script name (such as
<command>tovid</command>, <command>makexml</command>,
or <command>makemenu</command>); the remainder of the file
consists of command-line options appropriate to that script.
Whitespace is ignored, and comments may be included on lines
beginning with <literal>#</literal>.</para>

<screen>tovid
# sample tovid configuration file

# This is a comment, and will be ignored by tovid

# Always use NTSC format by default
-ntsc

# Run in "parallel" mode for faster execution and
# reduced disk usage
-parallel

# Run in "debug" mode, so when something goes wrong
# it's easier to diagnose
-debug

# Always overwrite existing output files.
-overwrite
</screen>

<para>This format makes editing a snap, especially if you are
already familiar with tovid's various command-line options.
You may find configuration files useful, if you get tired of
entering the same options by hand for a bunch of videos, or
if you want to customize your bitrates, menus, or formats
for a certain project.</para>

<para>&tovidgui; will someday be able to save and load projects.
The save-file format will again be plain ASCII text, and
will look like several configuration files concatenated
together&ndash;some for &tovid;, some for &makexml;, and
some for &makemenu;.</para>

<para role="lastgen">&lastgenerated;</para>

</sect1>

</chapter>

<!--
======================================================

HOWTO

======================================================
-->

<chapter id="howto">
<title id="howto.title">tovid howto</title>

<para>This document explains how to create a DVD using the tovid suite.
It assumes you have a collection of videos, in various formats,
and want to end up with a finished DVD with menus. Each step of
the DVD-creation process is explained in detail.</para>

<sect1>
<title>Getting started</title>

<para>Before we begin, we need several things:</para>

<itemizedlist>
<listitem><para>Some videos. Where you get them is up to you.</para></listitem>
<listitem><para>The tovid suite of utilities, which you can download from
  <ulink url="http://www.sourceforge.net/projects/tovid">sourceforge.net</ulink>.</para></listitem>
<listitem><para>The <ulink url="documentation.html">tovid documentation</ulink>, for
  reference on how to install and use tovid</para></listitem>
<listitem><para>A command-line interface. Any terminal or console will do.</para></listitem>
<listitem><para>Some patience, and perhaps a nice cup of coffee</para></listitem>
</itemizedlist>

<para>I'm going to be authoring a DVD with four videos on it:</para>

<itemizedlist>
<listitem><para><filename>Serenity.mpg</filename>, a trailer for
    <ulink url="http://www.imdb.com/title/tt0379786/">Serenity</ulink>, the
    <emphasis>Firefly</emphasis> movie</para></listitem>
<listitem><para><filename>HHGG.mpg</filename>, a trailer for
    <ulink url="http://www.imdb.com/title/tt0371724/">The
    Hitchhiker's Guide to the Galaxy</ulink> movie</para></listitem>
<listitem><para><filename>ROTB.mov</filename>, a computer-animated
    <ulink url="http://www.lego.com/">LEGO</ulink> short featuring Star Wars
    characters</para></listitem>
<listitem><para><filename>MGS4.wmv</filename>, a trailer for the PS3 game
    <ulink url="http://www.konami.jp/gs/kojima_pro/japanese/mgs4_04.html">Metal
    Gear Solid 4</ulink></para></listitem>
</itemizedlist>

</sect1>

<sect1>
<title>Converting the videos</title>

<para>Videos come in all kinds of formats, but <glossterm>DVD</glossterm> only
accepts a few specific standard formats. Fortunately, you don't have to worry much
about it, because the &tovid; script does all the conversion for you.
You tell it what video you want to encode (the <option>-in</option> option),
and what name you want for the output file (the <option>-out</option> option).
For example:</para>

<screen>
<prompt>$</prompt> <userinput>tovid -in MGS4.wmv -out Metal_Gear_Solid_4</userinput>
</screen>

<para>This will convert <filename>MGS4.wmv</filename> to <glossterm>NTSC</glossterm>
DVD format, saving the result as <filename>Metal_Gear_Solid_4.mpg</filename>. Since
this is the output format I want to use, all I have to do is run the above
command on each of my videos:</para>

<screen>
<prompt>$</prompt> <userinput>tovid -in Serenity.mpg -out Serenity_trailer</userinput>
<prompt>$</prompt> <userinput>tovid -in HHGG.mpg -out Hitchhikers_Guide</userinput>
<prompt>$</prompt> <userinput>tovid -in ROTB.mpg -out Revenge_of_the_Brick</userinput>
<prompt>$</prompt> <userinput>tovid -in MGS4.mpg -out Metal_Gear_Solid_4</userinput>
</screen>

<note>
<para>You can customize your output video
with additional options, for example:</para>

<screen>
<prompt>$</prompt> <userinput>tovid -pal -half-dvd -in MGS4.wmv -out Metal_Gear_Solid_4</userinput>
</screen>

<para>This will convert to <glossterm>PAL</glossterm> format, using a "half-sized"
DVD resolution (352x480). There are many other options for further customizing
your output video; see the &tovid; documentation, or run
<command>tovid -help</command> to see a complete list of them.</para>
</note>

<para>After running a tovid command, it's time to get that cup of coffee.
Video encoding takes a long time! But if all goes well, I'll end up with
four output videos: <filename>Serenity_trailer.mpg</filename>,
<filename>Hitchhikers_Guide.mpg</filename> and so on.</para>
</sect1>

<sect1>
<title>Creating the menu</title>

<para>Next, I'd like to create a navigational menu, so that when I play the
DVD, I can choose which video to play. DVD menus are themselves videos, but
they have some extra stuff that makes them behave like menus. But again, you
don't need to worry about all the details; just use the &makemenu; script:</para>

<screen>
<prompt>$</prompt> <userinput>makemenu "Serenity trailer" \
           "Hitchhiker's Guide trailer" \
           "Revenge of the Brick" \
           "Metal Gear Solid 4 trailer" \
           MiscTrailers</userinput>
</screen>

<note><para>The backslash at the end of each line indicates continuation on
the next line; you can enter this command exactly as it appears, with backslashes,
or you can enter it all on a single line, without backslashes.</para></note>

<para>I specify the four titles I want on the menu by enclosing them each in
double-quotes, separated by spaces. The last thing is the
name I want to use for the menu itself. When this command is done, I should have
a video file called <filename>MiscTrailers.mpg</filename>.</para>

<figure>
<title>What the menu looks like</title>
<mediaobject>
<imageobject><imagedata fileref="images/howto_menu_screenshot.jpg"/></imageobject>
</mediaobject>
</figure>

<para>When it's eventually authored as a DVD menu, it will have a yellow
highlight that can be used to select a title.</para>

</sect1>

<sect1>
<title>Defining the structure</title>

<para>The next step is to define how the DVD will be structured. The popular
<ulink url="http://dvdauthor.sourceforge.net/">dvdauthor</ulink> tool can
create a DVD file structure based on an XML input file in a predetermined
format. But guess what! You don't need to worry about this format either,
because the &makexml; script can create it for you. All you need to provide
is the filenames of your menus and videos, along with a few other options.</para>

<para>I'm using a pretty simple structure: a single menu, with four video titles.
Here's the command I would run:</para>

<screen>
<prompt>$</prompt> <userinput>makexml \
    -menu MiscTrailers.mpg \
        Serenity_trailer.mpg \
        Hitchhikers_Guide.mpg \
        Revenge_of_the_Brick.mpg \
        Metal_Gear_Solid_4.mpg \
    TrailerDisc</userinput>
</screen>

<para>As you might have guessed, the first filename after <option>-menu</option> is
the video containing the menu itself. All the filenames after that are the
videos that are linked from that menu, in the same order that they are listed
in the menu. Finally, the last thing is the name to use for output. When this
command finishes, I'll have <filename>TrailerDisc.xml</filename> containing
a valid <command>dvdauthor</command> disc structure.</para>

</sect1>

<sect1>
<title>Authoring and burning</title>

<para>The &makedvd; script automates much of the process of authoring and
burning the disc from the XML file created above. All that remains to do is:</para>

<screen>
<prompt>$</prompt> <userinput>makedvd -burn TrailerDisc.xml</userinput>
</screen>

<para>You can leave out the <option>-burn</option> option, if you'd like to
just author the disc and create an ISO image. Then, you can run the same
command again with <option>-burn</option> to burn the already-created ISO.</para>

</sect1>

</chapter>


<!--
======================================================

Frequently asked questions

======================================================
-->

<chapter id="faq">
<title id="faq.title">tovid FAQ</title>

<qandaset>
<qandaentry>
<question><para>My encoded video plays back extremely fast, as if it's in fast-forward.</para></question>
<answer><para>For some reason, certain video codecs are identified as using
1000 frames per second. (You can see this by running &idvid; on the video.)
You may be able to fix it by re-encoding using the <option>-fps</option> option
to force a framerate.</para></answer>
</qandaentry>

<qandaentry>
<question><para>Why is it so slow?</para></question>
<answer><para>Short answer: because video encoding is a very CPU-intensive process.
Longer, more complicated answer: because there are many factors that can
influence encoding time, including, but not limited to: the speed of your
CPU, the format of the input video, the resolution you're encoding to, and the
bitrate, quality, and denoising that are in effect. While I don't have
very detailed statistics on encoding times yet, in my experience it's
common for encoding to take two to three times the length of the video on
my AMD Athlon 1600XP. So if you're encoding a 2-hour movie, it could take
from four to six hours, depending on your CPU speed. DVD output takes longer
than VCD or SVCD output. There are most likely some performance improvements
that could be made, but for now you can probably expect that encoding video
will take a long time.</para></answer>
</qandaentry>

<qandaentry>
<question><para>Why is my CPU only showing 50% usage during encoding?</para></question>
<answer><para>This is another complex question that I don't have a good answer for.
The performance of tovid is steadily improving with each new release, and
my goal is to have the potential for near-100% CPU usage during encoding,
but unfortunately it's not quite that simple. This situation should be much
improved as of version 0.18, which includes the <option>-parallel</option> option
for both &tovid; and <command>postproc</command>; try using this option
if you find that your CPU is not being utilized fully.</para></answer>
</qandaentry>

<qandaentry>
<question><para>What fonts can I use in &makemenu;
(or, why do I have so few fonts to choose from when making menus from the
GUI)?</para></question>
<answer><para>The argument given to <option>-font</option> must be one of
the fonts listed by the command <command>convert -list type</command>. Many of
your installed fonts may not be available; if you want to maximize the
number of fonts available to &makemenu;, download and run
<ulink url="http://www.cit.gu.edu.au/~anthony/anthony.html">Anthony
Thyssen's</ulink>
<ulink url="http://www.cit.gu.edu.au/~anthony/software/imagick_type_gen.pl">imagick_type_gen.pl</ulink>
script and run it like this: 
<command>imagick_type_gen.pl &gt; ~/.magick/type.xml</command>.
If that doesn't work, try
<command>imagick_type_gen.pl &gt; ~/.magick/type.mgk</command>.
</para></answer>
</qandaentry>

<qandaentry>
<question><para>When I run <command>vcdxbuild my_disc.xml</command>, I get:
<computeroutput>ERROR: charset conversion failed</computeroutput>.
How do I fix this?</para></question>
<answer><para>This is a problem that crops up with some versions of
<command>vcdxbuild</command>.
If it happens to you, try using
<command>vcdxbuild --filename-encoding=iso8859-1 my_disc.xml</command>.</para></answer>
</qandaentry>

<qandaentry>
<question><para>Where do I get mjpegtools or mplayer for
<ulink url="http://www.debian.org/">Debian</ulink>
or a Debian-based distribution?</para></question>

<answer><para>Use Christian Marillat's <application>apt</application> repository, by adding
<literal>deb ftp://ftp.nerim.net/debian-marillat/ unstable main</literal> to your
<filename>/etc/apt/sources.list</filename> file.</para></answer>
</qandaentry>

<qandaentry>
<question><para>When running <command>makedvd -burn</command>, I get
<computeroutput>unable to open64("/dev/dvd",O_RDONLY): Permission
denied</computeroutput>. What does this mean?</para></question>
<answer><para>It probably means you don't have permission to burn DVDs, and must
burn them as the root user. To burn as root, run
<command>su -c "makedvd -burn MyDisc.xml"</command>.</para></answer>
</qandaentry>

<qandaentry>
<question><para>When running <command>tovidgui.py</command>, I get
<computeroutput>No module named wxPython.wx</computeroutput>, or
<computeroutput>Error -3 while decompressing data: invalid window
size</computeroutput>.</para></question>
<answer><para>wxPython problems have been occurring frequently with
<ulink url="http://www.mandriva/">Mandriva</ulink> and other Mandrake Linux
distributions.
<ulink url="http://www.createphpbb.com/phpbb/viewtopic.php?t=89&amp;mforum=tovid">One
possible solution</ulink> is to upgrade wxPythonGTK using the latest
<ulink url="ftp://mandrake.mirrors.pair.com/Mandrakelinux/devel/cooker/SRPMS/main/">source
RPM from Cooker</ulink>.</para></answer>
</qandaentry>

<qandaentry>
<question><para>I can't choose a disc format or TV format; I just see empty boxes
in the GUI.</para></question>
<answer><para>Try switching to a different GTK theme. If you don't use GNOME, you
may find <application><ulink url="http://www.muhri.net/nav.php3?node=gts">gtk-theme-switch</ulink></application>
to be useful.</para></answer>
</qandaentry>

<qandaentry>
<question><para>Why is this FAQ so badly-formatted?</para></question>
<answer><para>Because DocBook <literal>qandaset</literal>s apparently translate
into rather uglified HTML. If you know how to fix it, please let me know!
</para></answer>
</qandaentry>

</qandaset>

<para role="lastgen">&lastgenerated;</para>

</chapter>

<!--
======================================================

tovid reference and manual

======================================================
-->


<chapter id="manpages">
<title>tovid suite manual pages</title>

<refentry id="tovid-suite">

<refnamediv>
<refname>tovid-suite</refname>
<refpurpose>Create video discs</refpurpose>
</refnamediv>

<refsect1><title>Description</title>
<para>The <application>tovid</application> suite is a collection of special-purpose
command-line tools with the combined goal of creating standards-compliant video discs
in formats including Video CD (VCD), Super Video CD (SVCD), and DVD.</para>

<para>For more information, see the <ulink url="http://tovid.org/">tovid
homepage</ulink>.</para>
</refsect1>

</refentry>

<!--

DESCRIPTION
       tovid converts arbitrary multimedia video files to (S)VCD, DVD, or  KVCD-com-
       pliant format.

       makemenu create an MPEG menu, for navigating a video disc.

       makexml generates  an  XML description of video disc content, compatible with
       vcdxbuild or dvdauthor.

       makevcd authors and optionally burns a VCD or SVCD (not yet complete)

       makedvd authors and optionally burns a DVD (also not yet complete).

       dvrequant copies a single track, with optional subtitles and  multiple  audio
       streams, from an existing DVD.

       idvid identifies  video  files,  telling you the duration, resolution, codec,
       and other useful information. Perhaps most important, it can tell you whether

       a given video file is compliant with (S)VCD or DVD.

       makeslides creates  a still-image slideshow, in (S)VCD format, from arbitrary
       images. Slideshows may be included on a disc  using  the  -slides  option  to
       makexml.

       postproc does  post-processing  on  an  encoded/compliant  MPEG video. It can
       shrink  the  video  stream  by  reducing  quality,  and  it  can  adjust  the
       audio/video synchronization.

       tovid-batch processes multiple video files using the same output options. Use
       this if you want to encode several videos to the same format.

       tovid-interactive is an interactive command-line tool that  prompts  you  for
       all the necessary tovid encoding options. Use this if you are unfamiliar with
       the command line, but do not want to run the GUI for whatever reason.

       tovid-test is a bash script for testing the tovid suite.

       tovid-init defines global (suite-wide) functions and variables for the  tovid
       suite.


SEE ALSO
       Tovid official documentation is located at: http://tovid.org/


AUTHOR
       Eric Pierce <wapcaplet99@yahoo.com>

       This  manual  page  was  written  for  the  Debian  system  by Julien Valroff
       <julien@kirya.net>.


COPYRIGHT
       Copyright Eric Pierce <wapcaplet99@yahoo.com>

       You are free to distribute this software under the terms of the  GNU  General
       Public License. This software comes with no warranty.
-->




<!--
======================================================

tovid

======================================================
-->


<refentry id="tovid">

<refnamediv>
<refname>tovid</refname>
<refpurpose>Convert video to (S)VCD/DVD format</refpurpose>
</refnamediv>

<refsynopsisdiv>
<cmdsynopsis>
<command>tovid</command>
<arg choice="opt">
    <replaceable>OPTIONS</replaceable>
</arg>
<arg choice="req">
    <option>-in</option> <replaceable>INFILE</replaceable>
    <option>-out</option> <replaceable>OUTPREFIX</replaceable>
</arg>
</cmdsynopsis>
</refsynopsisdiv>

<refsect1><title>Description</title>
<para>tovid converts arbitrary video files into (S)VCD/DVD-compliant
    MPEG format, suitable for burning to CD/DVD-R for playback on a
    standalone DVD player.</para>
</refsect1>

<refsect1>
<title>Features</title>

<itemizedlist>
    <listitem><para>Can create a variety of MPEG output formats, including
        VCD, SVCD, DVD, Half-DVD, and VCD-on-DVD (the <option>-vcd</option>,
        <option>-svcd</option>, <option>-dvd</option>, <option>-half-dvd</option>,
        and <option>-dvd-vcd</option> options, respectively)</para>
    </listitem>
    <listitem><para>Skips encoding of already-valid video and audio streams,
        to avoid unnecessary quality degradation</para>
    </listitem>
    <listitem><para>Supports PAL and NTSC output (the <option>-pal</option> and
        <option>-ntsc</option> options)</para>
    </listitem>
    <listitem><para>Automatic aspect ratio detection. You can override the
        auto-detection with the <option>-aspect W:H</option> option, or use
        standard aspect ratios <option>-full</option> (4:3), <option>-wide</option>
        (16:9), and <option>-panavision</option> (2.35:1).</para>
    </listitem>
    <listitem><para>Picture quality enhancement via the <option>-filters</option>
        option.</para>
    </listitem>
    <listitem><para>Interlaced encoding for all formats except VCD
        (the <option>-interlaced</option> option)</para>
    </listitem>
    <listitem><para>Can normalize the volume of too-loud or too-soft audio (the
        <option>-normalize</option> option)</para>
    </listitem>
    <listitem><para>Automatically splits output files into chunks for burning
        to multiple CDs or DVDs. Use the <option>-discsize</option> option
        to specify a custom disc size.</para>
    </listitem>
    <listitem><para>Automatic quantization adjustment based on the selected
        video bitrate. High bitrates use low quantization (high quality), while
        low bitrates use higher quantization.</para>
    </listitem>
    <listitem><para>Prints out statistics, including resulting file size,
        bitrate, and encoding time, and logs statistics to
        <filename>~/.tovid/stats</filename></para>
    </listitem>
    <listitem><para>Utilizes multiprocessing during video encoding on systems
        with more than one CPU</para>
    </listitem>
    <listitem><para>Estimates and reports required space before encoding, and
        warns if there's not enough space to encode</para>
    </listitem>
    <listitem><para>Progress indicator and estimated completion time shown
        during encoding</para>
    </listitem>
    <listitem><para>Adjustable priority to prevent encoding from interfering
        with your other computing activities (the
        <option>-priority [low|medium|high]</option> option)</para>
    </listitem>
    <listitem><para>Parallel processing, via the <option>-parallel</option>
        option, to help maximize CPU usage during encoding (especially for
        multi-CPU encoding)</para>
    </listitem>
</itemizedlist>

</refsect1>


<refsect1>
<title>Options</title>
<literallayout>
    <option>-v</option>, <option>-version</option>    Prints tovid version number only
</literallayout>

<refsect2>
<title>Television standards</title>
<literallayout>
    <option>-ntsc</option>
        NTSC format video (USA, Americas) (default)
    <option>-ntscfilm</option>
        NTSC-film format video
    <option>-pal</option>
        PAL format video (Europe and others)
</literallayout>
</refsect2>

<refsect2>
<title>Formats</title>
<literallayout>
Standard formats, should be playable in most DVD players:

    <option>-dvd</option>
        (720x480 NTSC, 720x576 PAL) DVD-compatible output (default)
    <option>-half-dvd</option>
        (352x480 NTSC, 352x576 PAL) Half-D1-compatible output
    <option>-svcd</option>
        (480x480 NTSC, 480x576 PAL) Super VideoCD-compatible output
    <option>-dvd-vcd</option>
        (352x240 NTSC, 352x288 PAL) VCD-on-DVD output
    <option>-vcd</option>
        (352x240 NTSC, 352x288 PAL) VideoCD-compatible output

Non-standard formats, playable in some DVD players:

    <option>-kvcdx3</option>/<option>-kvcd</option>
        (528x480 NTSC, 520x576 PAL) KVCDx3 long-playing VCD
    <option>-kvcdx3a</option>/<option>-ksvcd</option>
        (544x480 NTSC, 544x576 PAL) KVCDx3A long-playing VCD
    <option>-kdvd</option>
        (720x480 NTSC, 720x576 PAL) KDVD long-playing DVD
</literallayout>
</refsect2>

</refsect1>

<refsect1>
<title>Advanced options</title>

<refsect2>
<title>Aspect ratios</title>
<literallayout>
    tovid automatically determines aspect ratio of the input video by
    playing it in mplayer. If your video plays with correct aspect in
    mplayer, you should not need to override the default tovid behavior.

    If mplayer does not play your video with correct aspect, you may
    provide an explicit aspect ratio in one of several ways:

        <option>-full</option>           Same as -aspect 4:3
        <option>-wide</option>           Same as -aspect 16:9
        <option>-panavision</option>     Same as -aspect 235:100
        <option>-aspect</option> WIDTH:HEIGHT
            Custom aspect, where WIDTH and HEIGHT are integers.

    NOTE: This is the INPUT aspect ratio. tovid chooses an optimal
    output aspect ratio for the selected disc format (VCD, DVD, etc.)
    and does the appropriate letterboxing or anamorphic scaling.
</literallayout>
</refsect2>

<refsect2>
<title>Video adjustment</title>
<literallayout>
  <option>-quality</option> NUM (EXPERIMENTAL)
        Desired output quality, on a scale of 1 to 10, with 10
        giving the best quality at the expense of a larger
        output file. Output size can vary by approximately a
        factor of 4 (that is, -quality 1 output can be 25%
        the size of -quality 10 output). Your results may vary.
        
        At present, this option affects both output
        bitrate and quantization (but may, in the future, affect
        other quality/size-related attributes). Use -vbitrate
        if you want to explicitly provide a maximium bitrate.
  <option>-vbitrate</option> NUM
        Maximum bitrate to use for video (in kbits/sec). Must be
        within allowable limits for the given format. Overrides
        default values. Ignored for VCD.
  <option>-interlaced</option> (EXPERIMENTAL)
        Do interlaced encoding of the input video. Use this option if
        your video is interlaced, and you want to preserve as much
        picture quality as possible. Ignored for VCD.
  <option>-deinterlace</option> (DEPRECATED)
        Use this option if your source video is interlaced. You can
        usually tell if you can see a bunch of horizontal lines when
        you pause the video during playback. If you have recorded
        a video from TV or your VCR, it may be interlaced. Use this
        option to convert to progressive (non-interlaced) video. This
        option is DEPRECATED, and will probably be ditched in favor of
        interlaced encoding, which is better in almost every way.
  <option>-subtitles</option> FILE
        Get subtitles from FILE and encode them into the video.
        WARNING: This hard-codes the subtitles into the video, and you
        cannot turn them off while viewing the video. By default, no
        subtitles are loaded. If your video is already compliant with the
        chosen output format, it will be re-encoded to include the subtitles.
  <option>-type</option> {live|animation|bw}
        Optimize video encoding for different kinds of video. Use
        'live' (default) for live-action video, use 'animation' for
        cartoons or anime, and 'bw' for black-and-white video.
        This option currently only has an effect with KVCD/KSVCD
        output formats; other formats may support this in the future.
  <option>-safe</option> PERCENT
        Fit the video within a safe area defined by PERCENT. For example,
        "-safe 90%" will scale the video to 90% of the width/height of
        the output resolution, and pad the edges with a black border. Use
        this if some of the picture is cut off when played on your TV.
        The percent sign is optional.
  <option>-filters</option> {none,denoise,contrast,all} (default none)
        Apply post-processing filters to enhance the video. If your input
        video is very high quality, use 'none'. If your input video is grainy,
        use 'denoise'; if it looks washed out or faded, use 'contrast'. You
        can use multiple filters separated by commas. To apply all filters,
        use 'all'.
  <option>-fps</option> RATIO
        Force input video to be interpreted as [NUM] frames per second.
        May be necessary for some ASF, MOV, or other videos. NUM
        should be an integer ratio such as "24000:1001" (23.976fps),
        "30000:1001" (29.97fps), or "25:1" (25fps). This option is
        temporary, and may disappear in future releases.
</literallayout>
</refsect2>

<refsect2>
<title>Audio adjustment</title>
<literallayout>
  <option>-normalize</option>
        Normalize the volume of the audio. Useful if the audio is too
        quiet or too loud, or you want to make volume consistent for
        a bunch of videos.
  <option>-abitrate</option> <replaceable>NUM</replaceable>
        Encode audio at <replaceable>NUM</replaceable> kilobits per second.
        Reasonable values include 128, 224, and 384. The default is 224 kbits/sec,
        good enough for most encodings. The value must be within the allowable
        range for the chosen disc format; Ignored for VCD, which must be 224.
</literallayout>
</refsect2>

<refsect2>
<title>Other options</title>
<literallayout>
  <option>-debug</option>             
        Print extra debugging information to the log file. Useful in
        diagnosing problems if they occur. This option also leaves
        the log file (with a .log extension) in the directory after
        encoding finishes.
  <option>-priority</option> {low|medium|high}
        Sets the main encoding process to the given priority. With
        high priority, it may take other programs longer to load
        and respond. With lower priority, other programs will be
        more responsive, but encoding may take 30-40% longer.
        The default is high priority.
  <option>-discsize</option> <replaceable>NUM</replaceable>
        Sets the desired target DVD/CD-R size to <replaceable>NUM</replaceable> MB (10^6).
        Default is 700 for CD, 4500 for DVD. Use higher values at your own
        risk. Use 650 or lower if you plan to burn to smaller-capacity CDs.
  <option>-parallel</option>
        Will perform encode/rip processes in parallel using named
        pipes. Maximizes CPU utilization and minimizes disk usage.
  <option>-update</option> <replaceable>SECS</replaceable>
        Print status updates at intervals of SECS seconds. This affects
        how regularly the progress-meter is updated. The default is once
        per second
  <option>-mplayeropts</option> "<replaceable>OPTIONS</replaceable>"
        Append <replaceable>OPTIONS</replaceable> to the mplayer command run during video encoding.
        Use this if you want to add specific video filters (documented in
        the mplayer manual page). Overriding some options will cause
        encoding to fail, so use this with caution!
  <option>-ffmpeg</option> (EXPERIMENTAL)
        Use ffmpeg for video encoding, instead of mplayer/mpeg2enc.
        Encoding will be noticeably faster; (S)VCD and DVD are supported,
        but KVCD/KDVD is not fully supported yet.
  <option>-nofifo</option> (EXPERIMENTAL)
        Do not use a FIFO pipe for video encoding. If you are getting
        "Broken pipe" errors with normal encoding, try this option.
        WARNING: This uses lots of disk space (about 2 GB per minute of
        video).
</literallayout>
</refsect2>
</refsect1>

<refsect1>
<title>Examples</title>

<para>None yet</para>

</refsect1>

<refsect1>
<title>Contact</title>
<para>For further assistance, contact information, forum and IRC links,
please refer to the
<ulink url="http://tovid.org/">tovid homepage</ulink>.</para>
</refsect1>

</refentry>

<!--
======================================================

idvid

======================================================
-->

<refentry id="idvid">

<refnamediv>
<refname>idvid</refname>
<refpurpose>Identify video files</refpurpose>
</refnamediv>

<refsynopsisdiv>
<cmdsynopsis>
<command>idvid</command>
<arg choice="opt">
    <option>-terse</option>
</arg>
<arg choice="req">
    <replaceable>FILES</replaceable>
</arg>
</cmdsynopsis>
</refsynopsisdiv>

<refsect1>
<title>Description</title>
<para><command>idvid</command> identifies each multimedia video file in a
list, and reports its compliance with video disc standards such as VCD,
SVCD, and DVD.</para>
</refsect1>

<refsect1>
<title>Features</title>

<itemizedlist>
    <listitem>
        <para>Prints out running time, resolution, frame rate, and other information
        about a video or videos</para>
    </listitem>
    <listitem>
        <para>Identifies what formats (VCD, SVCD, or DVD) the audio and video streams
        are compliant with, and tells you what kind of video disc you can burn a
        video to, if it's compliant</para>
    </listitem>
    <listitem>
        <para>Can print out statistics in terse format, suitable for parsing with other
        scripts or utilities (the <option>-terse</option> command-line option)</para>
    </listitem>
</itemizedlist>

</refsect1>

<refsect1>
<title>Contact</title>
<para>For further assistance, contact information, forum and IRC links,
please refer to the
<ulink url="http://tovid.org/">tovid homepage</ulink>.</para>
</refsect1>

</refentry>

<!--
======================================================

makemenu

======================================================
-->

<refentry id="makemenu">

<refnamediv>
<refname>makemenu</refname>
<refpurpose>Create (S)VCD/DVD-compliant menus</refpurpose>
</refnamediv>

<refsynopsisdiv>
<cmdsynopsis>
<command>makemenu</command>
<arg choice="opt">
    <option>OPTIONS</option>
</arg>
<arg choice="req">
    <replaceable>TITLES</replaceable>
</arg>
<arg choice="req">
    <replaceable>OUT_PREFIX</replaceable>
</arg>
</cmdsynopsis>
</refsynopsisdiv>

<refsect1>
<title>Description</title>

<para><command>makemenu</command> generates (S)VCD- or DVD-compliant
MPEG videos for use as navigational menus, given a list of text strings
to use for title names. You can customize the menu by providing an
optional background image or audio clip, or by using custom font and
font color.</para>
</refsect1>

<refsect1>
<title>Features</title>

<itemizedlist>
    <listitem>
        <para>Can create VCD, SVCD, or DVD menus in PAL or NTSC format</para>
    </listitem>
    <listitem>
        <para>Can include an optional background image in nearly any format; image can
        be scaled and/or cropped to fit the required screen size</para>
    </listitem>
    <listitem>
        <para>Can include an optional background audio track in nearly any format;
        menu duration will match the length of the audio track</para>
    </listitem>
    <listitem>
        <para>Can layer a text list of video titles on the background; DVD menus
        utilize a highlight layer for menu navigation, while (S)VCD menus
        have enumerated options for selection via the DVD remote control</para>
    </listitem>
    <listitem>
        <para>Customizable text alignment and highlight color</para>
    </listitem>
</itemizedlist>

</refsect1>

<refsect1>
<title>Options</title>
<literallayout>
  <option>-ntsc</option> (default)
    Generate an NTSC-format menu
  <option>-pal</option>
    Generate a PAL-format menu
  <option>-dvd</option> (default)
    Generate a DVD-format menu, with highlighted text included
    as a multiplexed subtitle stream.
  <option>-vcd</option>
  <option>-svcd</option>
    Generate a VCD/SVCD menu; each menu option will have a
    number associated with it. You can have up to nine menu
    options per menu.

Menu background/audio options:

  <option>-background</option> IMAGE
    Use IMAGE (in most any graphic format) as a background. If image is not
    the correct aspect ratio (4:3), it will be scaled and/or cropped,
    depending on the -crop and -scale options. If no background is
    supplied, a default background will be created.
  <option>-crop</option> (default)
    If provided background image is not 4:3 aspect ratio, crop edges
    to make it so. Image will be scaled up if it is too small. Cropping
    keeps the center area of image. If you want to do cropping/scaling
    yourself in another program, provide an image of 768x576 pixels.
  <option>-scale</option>
    If provided background image is not 4:3 aspect ratio, scale/stretch
    it to make it fit. May cause visible distortion!
  <option>-audio</option> AUDIOFILE
    Use AUDIOFILE (in most any audio format) for background music. The
    menu will play for long enough to hear the whole audio clip. If
    one is not provided, silence will be used.

Menu text options:

  <option>-font</option> FONTNAME
    Use FONTNAME for the menu text. Run 'convert -list type' to see a
    list of the fonts that you can use; choose a font name from the
    leftmost column that is displayed.
  <option>-fontsize</option> NUM (default 24)
    Sets the size for the font to NUM pixels.
  <option>-align</option> [left|center|right]
    Align the text on the left, center, or right side of the screen.
  <option>-textcolor</option> [#RRGGBB|#RGB|COLORNAME]
    Use specified color for menu text. #RRGGBB and #RGB are
    hexadecimal triplets (i.e., #FF8035). COLORNAME may be any of
    several hundred named colors; run 'convert -list color' to see them.
    White (#FFF) is the default color.
  <option>-highlightcolor</option> [#RRGGBB|#RGB|COLORNAME]
    Use specified color for menu highlighting. Yellow (#FF0) is the
    default color.
  <option>-selectcolor</option> [#RRGGBB|#RGB|COLORNAME]
    Use specified color for menu selections (when a menu item is played
    or activated). Red (#F00) is the default color.

Other options:

  <option>-nosafearea</option>
    Do not attempt to put text inside a TV-safe viewing area. Most
    television sets cut off about 10% of the image border, so the script
    automatically leaves a substantial margin. This option turns that
    behavior off, leaving only a tiny margin. Use at your own risk.
  <option>-overwrite</option>
    Overwrite any existing output files.

TITLES is a list of quoted text you want to be printed on the menu, i.e.

  "Episode 1" "Episode 2" "Episode 3" "Back"

If the word "back" is given as an episode title, a "back" button for
returning to a higher-level menu will be added at the end of the list
of episodes.
</literallayout>
</refsect1>

<refsect1>
<title>Usage notes</title>

<para>The argument given to <option>-font</option> must be one of the fonts listed
by the command <command>convert -list type</command>. Please note that many of
your installed fonts may not be available; if you want to maximize the
number of fonts available to &makemenu;, download and run
<ulink url="http://www.cit.gu.edu.au/~anthony/anthony.html">Anthony Thyssen's</ulink>
<ulink url="http://www.cit.gu.edu.au/~anthony/software/imagick_type_gen.pl">imagick_type_gen.pl</ulink>
script and run it like this:
<command>imagick_type_gen.pl &gt; ~/.magick/type.xml</command>.
If that doesn't work, try
<command>imagick_type_gen.pl &gt; ~/.magick/type.mgk</command>.</para>

</refsect1>

<refsect1>
<title>Contact</title>
<para>For further assistance, contact information, forum and IRC links,
please refer to the
<ulink url="http://tovid.org/">tovid homepage</ulink>.</para>
</refsect1>

</refentry>

<!--
======================================================

makexml

======================================================
-->

<refentry id="makexml">

<refnamediv>
<refname>makexml</refname>
<refpurpose>Generate a video disc structure XML description</refpurpose>
</refnamediv>

<refsynopsisdiv>
<cmdsynopsis>
<command>makexml</command>
<arg choice="opt">
    <option>OPTIONS</option>
</arg>
<arg choice="req">
    <replaceable>VIDEOS</replaceable>
</arg>
<arg choice="req">
    <replaceable>OUTFILE</replaceable>
</arg>
</cmdsynopsis>
</refsynopsisdiv>

<refsect1>
<title>Description</title>

<para><command>makexml</command> generates XML output describing an (S)VCD
or DVD file structure and navigation hierarchy in the format expected by
<ulink url="http://dvdauthor.sourceforge.net/">dvdauthor</ulink> or
<ulink url="http://www.vcdimager.org/">vcdxbuild</ulink>.</para>

</refsect1>

<refsect1>
<title>Features</title>
<itemizedlist>
    <listitem>
        <para>Can generate a navigation hierarchy with no menus (videos play
        in sequence when the disc is inserted)</para>
    </listitem>
    <listitem>
        <para>Can generate a disc with one menu that jumps to each of the videos</para>
    </listitem>
    <listitem>
        <para>Can generate a disc with a main (top) menu that jumps to one of several
        sub-menus, each of which may then jump to video titles, or back to the top
        menu</para>
    </listitem>
    <listitem>
        <para>Can generate a disc with MPEG still-image slides</para>
    </listitem>
</itemizedlist>
</refsect1>

<refsect1>
<title>Options</title>
<literallayout>
  -dvd (default)
    Generate the XML for a DVD menu, to be used with dvdauthor.
  -vcd
    Generate the XML for a VCD menu, to be used with vcdxbuild.
  -svcd
    Generate the XML for an SVCD menu, to be used with vcdxbuild.
  -overwrite
    Overwrite any existing output files.

  VIDEOS may be any of the following:

  &lt;file list&gt;
    List of one or more video files to include, separated by spaces. At
    minimum, a DVD must have one video file. You can use shell wildcards
    (i.e., "*.mpg") to include multiple files easily. Put filenames in
    quotes if they have spaces in them.
  -group &lt;file list&gt; -endgroup
    (DVD only) List of video files to include as one single title. This is useful
    if you have split a movie into several video files. 
  -menu VIDEO &lt;file list&gt;
    Use video file VIDEO as a menu from which you can jump to each of
    the listed video files. If you have multiple menus, include a
    top menu so they are reachable.
  -topmenu VIDEO [-menu VIDEO &lt;file list&gt;] [-menu VIDEO &lt;file list&gt;]...
    Use video file VIDEO for the top-level (VMGM) menu. The top menu will
    jump to each of the subsequent [-menu...] videos listed. Use this only if
    you have multiple sub-menus to jump to. You can only have one top menu.
  -titlesets
    (DVD only) Forces the creation of a separate titleset per title. This
    is useful if the titles of a DVD have different video formats, 
    e.g. PAL + NTSC or 4:3 + 16:9. If used with menus, there must be a 
    -topmenu option that specifies a menu file with an entry for each of the 
    titlesets.   
  -chapters &lt;interval&gt;
    (DVD only) Creates a chapter every &lt;interval&gt; minutes. This option can be put at any 
    position in a &lt;file list&gt; and is valid for all subsequent titles until a new
    -chapters option is encountered. Using this option may take some time, since the
    duration of the video is calculated.  
  -slides &lt;file list&gt;
    Create a slide-show of still images

  OUT_PREFIX is the file you want to put the resulting XML in
</literallayout>
</refsect1>

<refsect1>
<title>Usage notes</title>

<para><command>makexml</command> checks to make sure the video filenames you
give it exist, but it does not check whether they are valid for the
chosen disc format. MPEG videos of menus should have the specified
number of buttons for reaching each of the videos, and, if you're
using DVD, should be multiplexed with their corresponding subtitles
using <command>spumux</command> of the dvdauthor 0.6.0 package prior to
authoring using dvdauthor. If you use the &makemenu;
component to generate the menu, this should all be handled for you.</para>
</refsect1>

<refsect1>
<title>Contact</title>
<para>For further assistance, contact information, forum and IRC links,
please refer to the
<ulink url="http://tovid.org/">tovid homepage</ulink>.</para>
</refsect1>

</refentry>

<!--
======================================================

makedvd

======================================================
-->

<refentry id="makedvd">

<refnamediv>
<refname>makedvd</refname>
<refpurpose>Create and burn DVD image from dvdauthor XML input</refpurpose>
</refnamediv>

<refsynopsisdiv>
<cmdsynopsis>
<command>makedvd</command>
<arg choice="opt">
    <option>OPTIONS</option>
</arg>
<arg choice="req">
    <replaceable>XML_INFILE</replaceable>
</arg>
</cmdsynopsis>
</refsynopsisdiv>

<refsect1>
<title>Description</title>
<para><command>makedvd</command> takes an XML file as input; this file is
expected to contain a DVD file-structure specification in the format
understood by <ulink url="http://dvdauthor.sourceforge.net/">dvdauthor</ulink>.
(For a description of the XML format, see the dvdauthor manual page.)
If you used <command>makexml</command> to create the XML file, you can
use it as input to <command>makedvd</command>.</para>
</refsect1>

<refsect1>
<title>Features</title>
<itemizedlist>
    <listitem><para>Configurable burn device and burn speed</para></listitem>
    <listitem><para>Create an image only, or burn an existing image</para></listitem>
</itemizedlist>
</refsect1>

<refsect1>
<title>Options</title>
<literallayout>
  -author
      Overwrite an existing directory containing the dvdauthor output
  -image
      Overwrite an existing ISO file
  -burn
      Burn the disc after creating the ISO file
  -device DEVFS_NAME (default /dev/dvd)
      Burn the disc image to DEVICE, the Linux device filesystem
      name of your DVD-recorder. Common examples might be /dev/dvdrw,
      /dev/scd1, and /dev/hdc. You can also use a bus/id/lun triple
      such as ATAPI:0,1,0
  -speed NUM (default 1)
      Burn disc at speed NUM.
  -label DISC_LABEL
      Uses "DISC_LABEL" as the volume ID. This appears as the mount
      name of the disc on some computer platforms. Must be &lt;=32
      alphanumeric digits without spaces.
</literallayout>
</refsect1>

<refsect1>
<title>Contact</title>
<para>For further assistance, contact information, forum and IRC links,
please refer to the
<ulink url="http://tovid.org/">tovid homepage</ulink>.</para>
</refsect1>

</refentry>

<!--
======================================================

makeslides

======================================================
-->

<refentry id="makeslides">

<refnamediv>
<refname>makeslides</refname>
<refpurpose>Convert images into still-frame MPEG video</refpurpose>
</refnamediv>

<refsynopsisdiv>
<cmdsynopsis>
<command>makeslides</command>
<arg>-ntsc</arg>
<arg>-pal</arg>
<arg choice="req"><replaceable>IMAGES</replaceable></arg>
</cmdsynopsis>
</refsynopsisdiv>

<refsect1>
<title>Features</title>

<itemizedlist>
    <listitem>
        <para>Can batch-convert images, in nearly any format, into (S)VCD-compliant
        MPEG stills</para>
    </listitem>
</itemizedlist>
</refsect1>

<refsect1>
<title>Options</title>
<literallayout>
    -ntsc (default)
    -ntscfilm
        Generate NTSC (704x480) output
    -pal
        Generate PAL (704x576) output

    IMAGES is a single image or list of images to be
    converted to still MPEGs. The output names will
    be the same as the input name, with a .mpg extension.
</literallayout>
</refsect1>

<refsect1>
<title>Contact</title>
<para>For further assistance, contact information, forum and IRC links,
please refer to the
<ulink url="http://tovid.org/">tovid homepage</ulink>.</para>
</refsect1>

</refentry>

<!--
======================================================

postproc

======================================================
-->

<refentry id="postproc">

<refnamediv>
<refname>postproc</refname>
<refpurpose>Re-sync or requantize an MPEG file</refpurpose>
</refnamediv>

<refsynopsisdiv>
<cmdsynopsis>
<command>makeslides</command>
<arg choice="opt">
    <option>OPTIONS</option>
</arg>
<arg choice="req">
<replaceable>IN_FILE</replaceable>
<replaceable>OUT_FILE</replaceable>
</arg>
</cmdsynopsis>
</refsynopsisdiv>

<refsect1>
<title>Description</title>

<para><command>postproc</command> is designed to do simple post-processing to
finished MPEG videos from &tovid;. After encoding a video
with &tovid;, you may find that the finished video is too
large, or has A/V sync problems; this utility can help.</para>
</refsect1>

<refsect1>
<title>Features</title>

<itemizedlist>
    <listitem>
        <para>Can adjust the offset between audio and video, if there is an
        undesirable delay between them.</para>
    </listitem>
    <listitem>
        <para>Can requantize ("shrink") video to reduce file size at the
        expense of quality.</para>
    </listitem>
</itemizedlist>
</refsect1>

<refsect1>
<title>Options</title>
<literallayout>
  -audiodelay [NUM]
      Delay the audio stream by [NUM] milliseconds. Use this if
      your final output has audio that is not synced with the
      video. For example, if the audio comes 2 seconds sooner than
      the video, use "-audiodelay 2000". Use a negative number for
      audio that comes later than the video.
  -shrink [NUM]
      Shrink the video stream by a factor of [NUM]. May be a decimal
      value. A value of 1.0 means the video will be the same size;
      larger values cause more reduction in size. Beyond 2.0, the
      returns are diminishing.
  -parallel
      Run all processes in parallel and pipe into multiplexer should
      increase speed significantly.
  -debug
      Save output in a temporary file, for later viewing if
      something goes wrong.
</literallayout>
</refsect1>

<refsect1>
<title>Usage notes</title>

<informalfigure><mediaobject>
    <imageobject><imagedata fileref="images/shrink_chart.png"/></imageobject>
</mediaobject></informalfigure>

<para>A note about using the <option>-shrink</option> option: it is usually best
to use this with a value larger than 1.0, but smaller than 2.0. Anything
larger than 2.0 will not shrink the file by much, as can be seen in the
chart to the left. Shrink factors are listed across the bottom; the
resulting file size for two different test videos are labeled at the left.
Shrinking results in a 40% size reduction at best, but it can make all the
difference in fitting your videos onto a DVD. A factor of around 1.5 is
likely to give the best balance between size and quality.</para>

<para>The chart shown to the left was generated prior to Version 0.16, so
it's possible that you may be able to get better shrinking with high-quality
(low-quantization) videos. This hasn't been confirmed yet.</para>

<para>For the <option>-audiodelay</option> option, the best you may be able to do
is guess how much the audio and video are offset. This option usually
executes very quickly (since all it has to do is separate and re-combine
the audio and video streams), so keep trying different values until you
find one that works.</para>
</refsect1>

</refentry>

<!--
======================================================

dvrequant

======================================================
-->

<refentry id="dvrequant">

<refnamediv>
<refname>dvrequant</refname>
<refpurpose>Rip and shrink a title from DVD</refpurpose>
</refnamediv>

<refsynopsisdiv>
<cmdsynopsis>
<command>dvrequant</command>
</cmdsynopsis>
</refsynopsisdiv>

<refsect1>
<title>Description</title>

<para><command>dvrequant</command> is designed to rip a
single title from a DVD disc, along with up to two audio
tracks, and requantize (shrink) the title to fit on a
4.7 GB DVD-R.</para>
</refsect1>

</refentry>

</chapter>


<!--
======================================================

Quick tips and tests

======================================================
-->

<appendix id="tips">
<title>Quick tips and tests</title>

<para>The following are some short scripts (both <command>bash</command> and
English) for doing debugging, testing, and comparisons on tovid.</para>

<sect1>
<title>Comparing command-line options</title>

<para>Debugging one day, I wanted to find out <emphasis>exactly</emphasis>
what different encoding options are affected by the
<option>-deinterlace</option> option. The &tovid; script is so complex now
that even I can't remember all the random options that need to be passed
to <command>mpeg2enc</command>, <command>mplayer</command>, and other
programs upon which tovid depends.</para>

<para>So here's a quick bash script that shows you the difference, in detail,
between two of tovid's command-line options.</para>

<programlisting>
#!/bin/bash
tovid -debug -deinterlace dv1.avi dv1_deint > 1.log
tovid -debug dv1.avi dv1_blahblah > 2.log
diff 1.log 2.log
</programlisting>

</sect1>

<sect1>
<title>Comparing videos</title>

<para>It's often hard to compare the quality of two videos simply by
watching them. The human eye is very forgiving when it comes to video,
and it's useful to do a frame-by-frame comparison.</para>

<para>To get a dump of every frame in VIDEO, use the following
command:</para>

<screen><prompt>$</prompt> <userinput>mplayer -nosound -vo png VIDEO</userinput></screen>

<para>If you want to see the difference between two images (IMAGE_1 and IMAGE_2),
use one of these commands:</para>

<screen><prompt>$</prompt> <userinput>convert IMAGE_1 IMAGE_2 -compose difference -composite x: &amp;</userinput>
<prompt>$</prompt> <userinput>convert IMAGE_1 IMAGE_2 -compose difference -composite -normalize x: &amp;</userinput>
</screen>

<para>These commands use <ulink url="http://www.imagemagick.org/">ImageMagick</ulink>
to display a grayscale representation of the difference between
IMAGE_1 and IMAGE_2, with lighter areas indicating greater difference.
The <option>-normalize</option> option is useful for images that are very similar.
Use this to get a quick visualization of image quality, in particular the
degredation and artifacts that are often introduced during conversion to another
image format.</para>

<para>Newer versions of ImageMagick include the <command>compare</command>
utility. Try:</para>

<screen><prompt>$</prompt> <userinput>compare IMAGE_1 IMAGE_2 x: &amp;</userinput></screen>

<para>If you like numbers, you might enjoy:</para>

<screen><prompt>$</prompt> <userinput>compare -metric MAE IMAGE_1 IMAGE_2 null:</userinput>
</screen>

<para>Try the metrics MSE, PSE, PSNR, and RMSE for different comparison types.
For more on comparing images, see <ulink
url="http://www.cit.gu.edu.au/~anthony/info/graphics/image_comparing">Anthony
Thyssen's notes</ulink> on the subject.</para>

</sect1>

<sect1>

<title>Running tovid in the background</title>
<para>Try: <command>tovid
(-options) &gt;logfile 2&gt;&amp;1 &lt;/dev/null
&amp;</command>. This will run tovid in the background (so you can do other
things with your terminal) and will send all tovid output to
<filename>logfile</filename>.</para>

</sect1>

<sect1>
<title>Analyzing tovid stats</title>

<para>Starting with version 0.18, &tovid; writes statistics to
<filename>~/.tovid/stats</filename> in a comma-separated quoted-string
format commonly known as <ulink
url="http://en.wikipedia.org/wiki/Comma-separated_values">CSV</ulink> (not to be
confused with <ulink url="http://www.cvshome.org/">CVS</ulink>).
This makes the statistics easily parsable, particularly if
you want to import them into a spreadsheet for further analysis or
graphing.</para>

<para>Here's how I go about importing the stats into <ulink
url="http://www.openoffice.org">OpenOffice.org</ulink> Calc:</para>

<screen><prompt>$</prompt> <userinput>cp ~/.tovid/stats ~/.tovid/stats.csv</userinput></screen>

<para>It helps if the file has a <filename>.csv</filename> extension, because
then OOo Calc assumes it contains comma-separated values. Run OOo Calc, and
open <filename>~/.tovid/stats.csv</filename>. You'll be presented with a
dialog:</para>

<figure>
<title>Tweaking the CSV import</title>
<mediaobject>
<imageobject><imagedata fileref="images/ooo_calc_import.png"/></imageobject>
</mediaobject>
</figure>

<para>The significant options are highlighted; be sure to enable these before
importing. Adjust the <guibutton>From row</guibutton> value until the
starting point is just above the <literal>TOVID_VERSION</literal> line. Hit
<guibutton>OK</guibutton> and you get a nice spreadsheet, with column headings
that match the variable names in &tovid;.</para>

<para role="lastgen">&lastgenerated;</para>

</sect1>

</appendix>

<!--
======================================================

Aspect ratio and safe area

======================================================
-->

<appendix id="aspect">
<title>Aspect ratio and safe area</title>

<sect1>
<title>What is aspect ratio?</title>

<para>In video processing, the <emphasis>aspect ratio</emphasis> is a pair of
numbers that expresses the "wideness" of an image or video. The two numbers are
a width-to-height ratio. For example, an aspect ratio of <literal>4:3</literal>
means the picture is 4 units wide for every 3 units in height.</para>

<figure>
<title>What 4:3 means</title>
<mediaobject>
<imageobject><imagedata fileref="images/4_3_grid.jpg"/></imageobject>
</mediaobject>
</figure>

<para>Typical 1980s-1990s TV sets have this aspect ratio, as do most
computer monitors. In the early 2000s, <glossterm linkend="HDTV">High-definition
TV</glossterm> (HDTV) screens have become more popular and affordable; HDTVs
commonly have a 16:9 aspect ratio.</para>

<figure>
<title>A 16:9 picture</title>
<mediaobject>
<imageobject><imagedata fileref="images/16_9_grid.jpg"/></imageobject>
</mediaobject>
</figure>


<para>To find the aspect ratio of a video or image, just measure its
width and height. The aspect ratio can then be expressed as
<literal>width:height</literal>. If the picture is
24cm wide and 18cm tall, the aspect ratio can be expressed
<literal>24:18</literal>.</para>

<note><para>The aspect ratio is expressed in terms of the
<emphasis>intended display dimensions</emphasis>. The resolution of an image
in pixels is not always a good indicator of aspect ratio. For more on why this
is so, see <ulink url="http://www.mir.com/DMG/aspect.html">Aspect Ratios and
Frame Sizes</ulink>.</para></note>

<para>How does <literal>24:18</literal> compare to other aspect ratios? 
Is wider or narrower than other aspect ratios like <literal>16:9</literal>
or <literal>4:3</literal>? It's hard to tell at a
glance, because the denominators are different. The easiest way to compare
aspect ratios is to reduce them to lowest terms by doing a simple
division:</para>

<screen>
24 / 18 = 1.33
 4 /  3 = 1.33
16 /  9 = 1.78
</screen>

<para>The first two aspect ratios are equivalent to <literal>1.33:1</literal>.
Both are narrower than the widescreen aspect ratio of <literal>1.78:1</literal>.
Reducing aspect ratios to their lowest terms makes comparison easier.</para>

<figure>
<title>Visual comparison of aspect ratios</title>
<mediaobject>
<imageobject><imagedata fileref="images/Aspect_ratios.png"/></imageobject>
</mediaobject>
</figure>

<para>Two other aspect ratios are commonly used in filming movies:
<literal>1.85:1</literal> (Academy Standard, or "flat"), and
<literal>2.35:1</literal> (or "Scope", also called Panavision or
CinemaScope). Both are even wider than <literal>16:9</literal>,
with Scope being almost twice as wide as <literal>4:3</literal>.
The term "widescreen" typically refers to any aspect ratio
greater than about <literal>1.33:1</literal>.</para>

<para>If you'd like to learn more about aspect ratios, check out
<ulink url="http://www.wikipedia.org/wiki/Aspect_ratio_(image)">the Wikipedia
entry</ulink> on the subject.</para>

</sect1>

<sect1>
<title>Converting between aspect ratios</title>

<para>Since the 1950s, theatrical releases have typically used a widescreen
aspect ratio. Most TV sets use a <literal>4:3</literal> aspect ratio, so
widescreen movies must be converted for viewing on <literal>4:3</literal> TVs.
Two popular approaches to this conversion are described here. They are
<ulink url="http://en.wikipedia.org/wiki/Pan_and_scan">pan and scan</ulink>
and <ulink url="http://en.wikipedia.org/wiki/Letterbox">letterbox</ulink>.</para>

<para>With pan and scan, a <literal>4:3</literal> region is shown, cutting
off the left and/or right sides of the original picture. A human operator
(sometimes the director) selects areas that are important to the scene, and
tries to fit them in the <literal>4:3</literal> frame. When the action moves
to a different part of the screen, the visible region is panned over to it.</para>

<figure>
<title>Pan and scan version of a widescreen film</title>
<mediaobject>
<imageobject><imagedata fileref="images/pan_and_scan.jpg"/></imageobject>
</mediaobject>
</figure>

<para>Throughout the 1980s, pan and scan was by far the most
popular home video format. Pan and scan transfers make full use of the
<literal>4:3</literal> frame, so the viewer's TV screen is filled at all times.
In the 1980s, VHS still ruled the home market; pan and scan makes full use of
VHS's low (by today's standards) resolution. By "zooming in" on the picture,
detail and picture quality are better preserved.</para>

<para>But this gain comes at a significant loss; up to half of the original movie
picture may be cut off. Camera shots framed for widescreen may look amateurish
and asymmetrical when converted to pan and scan; sometimes, important
characters, objects, or scenery may be lost. Some directors forbid
pan-and-scan transfers of their films.</para>

<note><para>Laserdisc was a popular niche market for movie buffs
throughout VHS's reign; the picture quality of Laserdisc transfers is
superior to that of VHS, but inferior to that of our beloved DVD.</para>
<para>See
<ulink url="http://www.widescreen.org/examples.shtml">Widescreen vs. Pan &amp;
Scan Examples</ulink> for some comparisons of widescreen and pan and scan on
actual movies.</para></note>

<para>The letterbox format, in contrast, preserves the entire
width of the original picture. Since the original film is not as tall
(relatively speaking) as a <literal>4:3</literal> TV set, the areas above
and below the picture are filled with black.</para>

<figure>
<title>Letterbox version of a widescreen film</title>
<mediaobject>
<imageobject><imagedata fileref="images/letterbox.jpg"/></imageobject>
</mediaobject>
</figure>

<para>The advantage of letterbox format is that all of the original
picture is visible. The disadvantage is that it's shrunk down to fit
a <literal>4:3</literal> TV screen; a significant portion of the screen
is "wasted" on the black bars. With VHS, a letterbox film would lose
much of its original detail.</para>

<para>Since the late 1990s, pan and scan has become less popular. Its primary
advantage to the consumer was optimal use of TV screen area, but the growing
popularity of DVD, combined with the decreasing cost of
<glossterm>HDTV</glossterm>, has made it easier than ever to
enjoy high-quality widescreen at home. By the early 2000s, sales of widescreen
(letterbox) and full-screen (pan and scan) DVDs were almost equal; some TV
series have even begun using <literal>16:9</literal>.</para>

<para>There are several other approaches to creating <literal>4:3</literal>
versions of films, but those typically require special filming techniques, or
access to final proofs of the original film. For more information on video-transfer
methods, see <ulink
url="http://www.digieffects.com/frames/transferfilmtovideo/filmtovideo.html">How
Film is Transferred to Video</ulink>.</para>

</sect1>


<sect1>
<title>Pixels and aspect ratio</title>

<para>Images and videos stored on a computer are saved as a big rectangle full of
tiny square <ulink url="http://en.wikipedia.org/wiki/Pixel">pixels</ulink>. Each pixel stores a single color; you
can think of a digital image as a giant paint-by-number grid, with millions of
possible colors. The more pixels in a digital image, the more detail can be
captured. In the digital camera market, this resolution is simply expressed in
<emphasis>megapixels</emphasis>, or millions of pixels. A 4.0 megapixel (4
million pixel) camera can capture an image roughly 2,000 pixels wide and
2,000 pixels high. It's a good thing computers are fast, because it would take a
human a very long time to do a paint-by-number this big.</para>

<para>Digital video stored on a computer has no particular limitation on
resolution, but digital video disc formats such as <glossterm>VCD</glossterm>,
<glossterm>SVCD</glossterm>, and <glossterm>DVD</glossterm> only allow
certain resolutions, in terms of pixels. The most common resolution for
commercial DVDs is Full-D1, which is <literal>720&times;480</literal> pixels in
size.</para>

<note><para>Full-D1 is actually the name of two different resolutions, depending
on whether the DVD is formatted for <glossterm>NTSC</glossterm> or
<glossterm>PAL</glossterm> viewers and players. PAL uses a resolution of
<literal>720&times;576</literal> for Full-D1; NTSC uses <literal>720&times;480</literal>.
</para>

<para>In addition to Full-D1, DVD supports several other output resolutions,
including <literal>352&times;480</literal> (<literal>352&times;576 PAL</literal>) and
<literal>352&times;240</literal> (<literal>352&times;288 PAL</literal>). Higher resolutions
give better detail and overall quality, but fill up more space on the
disc. These additional resolutions allow even single-layer DVDs to contain
from 2 to 10 hours of video, giving DVD authors several options for
balancing quality with quantity.</para>
</note>

<para>You may notice, if you try to calculate what aspect ratio this is, that
<literal>720 / 480 = 1.5</literal>, which is not a standard aspect ratio for
either standard or widescreen TV sets. Obviously, the resolution of a video
<emphasis>in pixels</emphasis> has little bearing on the aspect ratio of the
video; <literal>1.5:1</literal> is the ratio of width to height in pixels, but
nobody watches DVDs on a <literal>1.5:1</literal> TV set.</para>

<para>So why the weird ratio? There's a good reason for it. DVD was designed
to perform well with both <literal>1.33:1</literal> (<literal>4:3</literal>
television) and <literal>1.78:1</literal> (<literal>16:9)</literal> widescreen).
But instead of having two different <emphasis>pixel</emphasis> resolutions,
DVD uses only <literal>720&times;480</literal>. Since <literal>1.5:1</literal> is
about halfway between <literal>1.33:1</literal> and <literal>1.78:1</literal>,
Full-D1 DVD is well-suited to encoding both of these common aspect ratios.</para>

<para>To achieve this, videos are first squished or stretched to fit into
<literal>720&times;480</literal> pixels. Each video is marked with a
bit of information telling the DVD player whether <literal>4:3</literal> or
<literal>16:9</literal> should be used for playback. The DVD player then
automatically does the appropriate squishing or stretching to restore the
proportions to normal.</para>

<figure>
<title>Full-D1 encoding of 4:3 aspect ratio</title>
<mediaobject>
<imageobject><imagedata fileref="images/4_3_dvd.jpg"/></imageobject>
</mediaobject>
</figure>

<para>A <literal>4:3</literal> picture fills the viewing area of a
<literal>4:3</literal> screen, but may be stretched or letterboxed
when played back on a widescreen TV. DVDs using this format are
typically labelled "full screen."</para>

<figure>
<title>Full-D1 encoding of 16:9 aspect ratio</title>
<mediaobject>
<imageobject><imagedata fileref="images/16_9_dvd.jpg"/></imageobject>
</mediaobject>
</figure>

<para>A <literal>16:9</literal> picture is letterboxed when played on a
<literal>4:3</literal> screen, but fills the viewing area of a widescreen
TV. DVDs using this format are typically labelled "widescreen."</para>

<note><para>DVDs labelled "<glossterm>anamorphic widescreen</glossterm>"
or "enhanced for widescreen displays" use a direct <literal>16:9</literal>
encoding of the widescreen picture. If a DVD is labelled "widescreen"
(but not anamorphic), then the disc probably contains a
<literal>4:3</literal> encoding of a letterboxed
widescreen image&ndash;and consequently, wastes 25% or more of its pixels
on black letterbox bars. Anamorphic widescreen DVDs make better use of
their available vertical resolution, and are thus superior in picture
quality to non-anamorphic DVDs. See
<ulink url="http://www.thedigitalbits.com/editorial/bz100298.html">The ABCs of
Anamorphic DVD</ulink> for a more thorough explanation.</para>
<para>Henceforth in this chapter, "widescreen" is synonymous with "anamorphic
widescreen"; non-anamorphic widescreen is ignored completely, as if it
never existed.</para>
</note>

<para>In these two formats, all letterboxing is done by the DVD player (or, in
some cases, by the TV). All <literal>720&times;480</literal> pixels are used
optimally, with none wasted on black bars. With DVD, consumers can choose
the aspect ratio that best suits their viewing needs.</para>

</sect1>


<sect1>
<title>Safe area</title>

<para>Television sets are not perfect. Most TVs cut off a small
amount of the picture around the edges, due to
<ulink url="http://en.wikipedia.org/wiki/Overscan">overscan</ulink>.
If there is important imagery or text present around the edge, it may not be
visible on the average TV set. Directors and video producers keep important
visual elements away from the edges by staying within the <emphasis>safe
area</emphasis>.</para>

<figure>
<title>Safe area of 90%</title>
<mediaobject>
<imageobject><imagedata fileref="images/4_3_safe.jpg"/></imageobject>
</mediaobject>
</figure>

<para>In doing video production, a good rule of thumb is to keep important
text inside a 90% "title safe" area, and less important elements within a
95% "action safe" area. Anything outside 95% is likely to be clipped off
by normal TV sets.</para>

<note><para>If you want to find out your TV's safe area, download the
<ulink url="download/safe_area_test_ntsc.mpg">NTSC safe area test video</ulink> or
<ulink url="download/safe_area_test_pal.mpg">PAL safe area test video</ulink>.
The video is in VCD format; to burn it to DVD, first convert it using the
<option>-dvd-vcd</option> option of &tovid;. 
This video shows a growing green box and a percentage; when the green box
goes off-screen, make note of the percentage (go frame-by-frame if necessary).
This percentage is your TV's approximate safe area.</para></note>

<para role="lastgen">&lastgenerated;</para>

</sect1>

</appendix>


<!--
======================================================

References and links

======================================================
-->

<appendix id="references">
<title id="references.title">References and links</title>

<sect1>
<title>Video authoring links</title>

<itemizedlist>
    <listitem><para>
        <ulink url="http://www.mpeg.org/MPEG/DVD/">DVD Technical Notes</ulink> provides
        fairly detailed technical information about the DVD standard.
    </para></listitem>
    <listitem><para>Ian Pointer's
        <ulink url="http://www.linuxjournal.com/article/6953">DVD Authoring</ulink>
        article explains how to create a DVD slideshow with music and subtitles, using
        open-source tools.
    </para></listitem>
    <listitem><para>The
        <ulink url="http://www.videohelp.com/~vitualis/">GNU VCDImager Authoring
        Guide</ulink> has comprehensive instructions for creating VCDs and SVCDs
        using VCDImager, as well as thorough documentation of the
        <ulink url="http://www.videohelp.com/~vitualis/general_xml_structure.html">VCDImager
        XML</ulink> file structure.
    </para></listitem>
    <listitem><para>The
        <ulink url="http://www.dogphilosophy.net/SECTION-Technical_Stuff/linuxvid.html">Linux
        Video Handling Sorta-HOWTO</ulink> discusses the basics of video capturing
        and VCD authoring.
    </para></listitem>
    <listitem><para>
        <ulink url="http://dvdripping-guid.berlios.de/">Linux Media</ulink> has
        several HOWTOs and scripts for DVD-ripping and disc authoring.
    </para></listitem>
    <listitem><para>
        <ulink url="http://www.100fps.com/">What is deinterlacing?</ulink> is a
        thorough introduction to the concept of interlacing, including
        comparisons of many deinterlacing methods.
    </para></listitem>
    <listitem><para>
        <ulink url=""></ulink>
    </para></listitem>
</itemizedlist>

</sect1>

<sect1>
<title>Other programs similar to tovid</title>

<itemizedlist>
    <listitem>
        <para><ulink url="http://dvd-slideshow.sourceforge.net/">DVD Slideshow</ulink></para>
    </listitem>
    <listitem>
        <para><ulink url="http://dvdstyler.sourceforge.net/">DVDStyler</ulink></para>
    </listitem>
    <listitem>
        <para><ulink url="http://susku.pyhaselka.fi/damu/software/kmediafactory/">KMediaFactory</ulink></para>
    </listitem>
    <listitem>
        <para><ulink url="http://pingwing.xs4all.nl/view.php/page/DVDAuthor">KDE DVD Authoring Wizard</ulink></para>
    </listitem>
    <listitem>
        <para><ulink url="http://www.videomaker.dnc.pl/">Linux Video Maker</ulink></para>
    </listitem>
    <listitem>
        <para><ulink url="http://jensge.org/?mmm">MakeMovingMenus</ulink></para>
    </listitem>
    <listitem>
        <para><ulink url="http://polidori.sourceforge.net/">Polidori</ulink></para>
    </listitem>
    <listitem>
        <para><ulink url="http://qdvdauthor.sourceforge.net/">Q DVD-Author</ulink></para>
    </listitem>
    <listitem>
        <para><ulink url="http://varsha.sourceforge.net/">Varsha</ulink></para>
    </listitem>
    <listitem>
        <para><ulink url="http://www.vcdeasy.org/">VCDEasy</ulink></para>
    </listitem>

</itemizedlist>

<para role="lastgen">&lastgenerated;</para>

</sect1>

</appendix>


<!--
======================================================

About tovid

======================================================
-->

<appendix id="about">
<title>About tovid</title>

<sect1>
<title>How it got started</title>

<para>tovid began life in May 2004 as a simple one-line script for converting
video to VCD format. I had found that it was not terribly easy to remember the
required commands and command-line options for converting video from one format
to another, and getting the output video to be compliant with a strict standard
like VCD was not trivial.</para>

<para>The need to convert and encode video became more urgent when my wife and I
purchased a DVD-RW drive. Suddenly, the possibility of creating our own DVDs
was a reality. Unfortunately, it appeared to be quite difficult to find software
that could reliably convert from one video format to another, particularly
when the result had to strictly comply with a specific bitrate, frame rate,
resolution, and encoding format. VCD, SVCD, and DVD must all be in MPEG format,
at predetermined resolutions and bit rates. Even in Windows, most of the
freely-available tools for video disc authoring had serious limitations when it
came to converting video, if indeed they did any conversion at all&mdash;many
authoring programs require videos to already be compliant with the target
format.</para>

<para>I tried several approaches, including
<ulink url="http://ffmpeg.sourceforge.net/">ffmpeg</ulink> and
<ulink url="http://zebra.fh-weingarten-de/~transcode/">transcode</ulink>, before
settling on the use of mplayer and mjpegtools.
While mplayer's <command>mencoder</command> was not particularly well-suited
to actually encoding video to MPEG format, mplayer is the most robust
video player I know of for the Linux platform. It can play nearly any video
you can throw at it, regardless of format. The utilities
included with mjpegtools were perfect for getting MPEG format
within the right parameters. Coupling the two together was fairly easy,
thanks to <ulink
url="https://sourceforge.net/docman/display_doc.php?docid=3456&amp;group_id=5776">thorough
documentation</ulink>. I soon had a working video converter,
designed to take arbitrary video and convert it to VCD. Whenever I needed to
convert to a different format, I just edited the script. I soon had a
small collection of conversion scripts with names like <command>todvd</command>,
<command>tovcd</command>, and <command>tosvcd</command>.</para>

<para>The desire for additional flexibility eventually prompted me to write one
script with a choice of output formats. Once I had my script into more-or-less usable
form, I <ulink
url="http://www.linuxquestions.org/questions/showthread.php?s=&amp;threadid=187527">posted
it to LinuxQuestions.org</ulink>.
Soon after that, I was asked by a LinuxQuestions moderator if I'd be interested
in posting the script in the <ulink
url="http://www.linuxquestions.org/questions/answers.php">LinuxAnswers</ulink> section;
<ulink url="http://www.linuxquestions.org/questions/answers/193">I did</ulink>, and soon
received some feedback by other people who were using the script.
With additional interest, I decided that it was worthwhile setting up a
<ulink url="http://sourceforge.net/projects/tovid/">SourceForge.net project</ulink>. Interest has continued to grow, and there have been several official releases, each
with new features and bugfixes based on feedback from other users, and from my own
continued use of it.</para>

<para>Thanks to tremendous support and feedback from users, tovid is becoming a
one-stop video disc authoring tool. It may be a while before tovid becomes the
Linux equivalent of <ulink url="http://ww3.nero.com/">Nero</ulink>, but it may
very well become the <foreignphrase>de facto</foreignphrase> open-source video
disc tool.</para>


</sect1>

<sect1>
<title>About the developers</title>

<sect2>
<title>Eric Pierce</title>

<para>Eric (a.k.a. wapcaplet) is the creator and lead developer of tovid.
He lives in <ulink
url="http://en.wikipedia.org/wiki/Colorado_Springs">Colorado
Springs</ulink> with his wife Andrea, and two cats, Fitz and Nibblet. His hobbies include
Linux hacking, illustrating, LEGO, disc golf, and strategy board games.
He is also a somtimes-contributor to <ulink
url="http://www.wikipedia.org/">Wikipedia</ulink>, where he edits as
<ulink url="http://en.wikipedia.org/wiki/User:Wapcaplet">Wapcaplet</ulink>.</para>

<figure>
<title>Our lead developer with a pigeon on his arm</title>
<screenshot><graphic fileref="images/eric_small.jpg"></graphic></screenshot>
</figure>

</sect2>

<sect2>
<title>Joe Friedrichsen</title>

<para>Joe (a.k.a. Mac North) is just a guy and one of the developers of tovid.
He lives in <ulink url="http://maps.google.com/maps?q=yaizu+japan&amp;spn=0.151988,0.323874&amp;t=k&amp;hl=en">Yaizu, Japan</ulink> with his turtle Marutomo. Outside of
things open source, he enjoys <ulink url="http://en.wikipedia.org/wiki/Lindy_Hop">Lindy Hop</ulink>, <ulink url="http://www.kusastro.kyoto-u.ac.jp/~baba/iaido/">Iai
swordwork</ulink>, and <ulink url="http://www.dclxvi.org/chunk/">art
bikes</ulink>. He's also known to play guitar (both acoustic and air) to artists such 
as The Flaming Lips and Nick Drake.</para>

<figure>
<title>Our Just A Guy developer</title>
<screenshot><graphic fileref="images/joe_small.jpg"></graphic></screenshot>
</figure>

</sect2>

<sect2>
<title>Other contributors</title>

<para>A huge number of people have contributed, in small and large ways, to the
formation of tovid. It'd be difficult to list them all, but here are a few
of them:</para>

<itemizedlist>
    <listitem><para>Khurram Ahmed</para></listitem>
    <listitem><para>Marcello Chagas</para></listitem>
    <listitem><para>Joe Friedrichsen</para></listitem>
    <listitem><para>Carl Hall</para></listitem>
    <listitem><para>Thomas Lie</para></listitem>
    <listitem><para>Rick Measham</para></listitem>
    <listitem><para>Jean-Francois Ouellette</para></listitem>
    <listitem><para>Rainer Unseld</para></listitem>
</itemizedlist>

<para>Thanks to the authors of <application>mplayer</application>,
<application>mjpegtools</application>, <application>ffmpeg</application>,
<application>vcdimager</application>, <application>dvdauthor</application>,
<application>ImageMagick</application>, <application>SoX</application>,
and <application>transcode</application>,
which tovid depends upon for most of its capabilities. Thanks also to
<ulink url="http://www.linuxquestions.org/">LinuxQuestions.org</ulink>
for hosting the old tovid discussion forum, and for generally being
a great community-building resource.</para>

<para>Finally, thanks to <emphasis>you</emphasis> for your interest
in tovid!</para>

<para role="lastgen">&lastgenerated;</para>

</sect2>
</sect1>

</appendix>
<!--
======================================================

Glossary

======================================================
-->


<glossary id="glossary">
<title>Glossary</title>

<glossentry id="anamorphic_widescreen">
    <glossterm>anamorphic widescreen</glossterm>
    <glossdef><para>An anamorphic widescreen DVD is simply one that makes
    good use of vertical resolution. Specifically, it means using DVD's
    <literal>16:9</literal> aspect ratio for all videos having that
    aspect ratio or greater. In the context of filming, anamorphic widescreen
    is a process using special lenses to maximize the use of available film
    exposure area. For more information, see the
    <ulink url="http://www.thedigitalbits.com/editorial/bz100298.html">The ABCs of
    Anamorphic DVD</ulink>, and the
    <ulink url="http://www.wikipedia.org/wiki/Anamorphic_widescreen">Wikipedia
    article on anamorphic widescreen</ulink>.</para>
    </glossdef>
</glossentry>
<glossentry id="DVD">
    <glossterm>DVD</glossterm>
    <glossdef><para>Storage technology for optical discs. DVD media can
    be imprinted or recorded with any of several different formats. DVD-ROM is
    the base format, storing files in a UDF filesystem; DVD-Video is probably
    the most common application format, and defines how video files are stored
    on the disc and played back in a DVD player. DVD-Audio is another
    increasingly common application format. See the
    <ulink url="http://www.dvddemystified.com/dvdfaq.html">DVD FAQ</ulink> for
    more information.</para>
    </glossdef>
</glossentry>
<glossentry id="HDTV">
    <glossterm>HDTV</glossterm>
    <glossdef><para>High definition television</para>
    </glossdef>
</glossentry>
<glossentry id="Python">
    <glossterm><ulink url="http://www.python.org/">Python</ulink></glossterm>
    <glossdef><para>Interpreted programming language created by Guido van Rossum in
    1990. Also the name of the program that interprets Python.</para></glossdef>
</glossentry>
<glossentry id="NTSC">
    <glossterm>NTSC</glossterm>
    <glossdef><para>The analog television system used in most of the Americas
    and some parts of East Asia. NTSC is named for the National Television
    System(s) Committee, which created the standard.
    See the <ulink url="http://www.wikipedia.org/wiki/NTSC">Wikipedia article on
    NTSC</ulink> for more information.</para></glossdef>
</glossentry>
<glossentry id="PAL">
    <glossterm>PAL</glossterm>
    <glossdef><para>The analog television system (more specifically, a color
    encoding) used in most of the world except in most of the Americas, and
    parts of East Asia, the Middle East, and Europe. PAL is short for
    phase-alternating line, phase alternation by line or phase alternation line.
    See the <ulink url="http://www.wikipedia.org/wiki/PAL">Wikipedia article on
    PAL</ulink> for more information.</para></glossdef>
</glossentry>
<glossentry id="SVCD">
    <glossterm>SVCD</glossterm>
    <glossdef><para>Super Video Compact Disc (SVCD) is a non-standardized format
    for storing approximately one hour
    of medium-quality video on an ordinary compact disc. Although SVCD has not
    been standardized, SVCD discs are playable in most consumer-model DVD players.
    See <ulink url="http://www.videohelp.com/svcd/">What is SVCD?</ulink> for
    technical details and a list of SVCD-compatible players.</para></glossdef>
</glossentry>
<glossentry id="VCD">
    <glossterm>VCD</glossterm>
    <glossdef><para>Video Compact Disc (VCD) is a standard format for storing
    slightly more than one hour of low-quality video on an ordinary compact
    disc. VCD follows the White Book standard, and is playable in most
    consumer-model DVD players. See <ulink
    url="http://www.videohelp.com/vcd/">What is VCD?</ulink> for technical
    details and a list of VCD-compatible players.</para></glossdef>
</glossentry>

</glossary>

</book>
